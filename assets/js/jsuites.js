!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jSuites=t()}(this,function(){var n,o,me;function ge(e){var t=o[e];if(void 0!==t)return t.exports;t=o[e]={exports:{}};return n[e].call(t.exports,t,t.exports,ge),t.exports}return n={195:function(e){e.exports=function(e){function a(e,t){this.highOrder=e,this.lowOrder=t}var t=[new a(1779033703,4089235720),new a(3144134277,2227873595),new a(1013904242,4271175723),new a(2773480762,1595750129),new a(1359893119,2917565137),new a(2600822924,725511199),new a(528734635,4215389547),new a(1541459225,327033209)],n=[new a(1116352408,3609767458),new a(1899447441,602891725),new a(3049323471,3964484399),new a(3921009573,2173295548),new a(961987163,4081628472),new a(1508970993,3053834265),new a(2453635748,2937671579),new a(2870763221,3664609560),new a(3624381080,2734883394),new a(310598401,1164996542),new a(607225278,1323610764),new a(1426881987,3590304994),new a(1925078388,4068182383),new a(2162078206,991336113),new a(2614888103,633803317),new a(3248222580,3479774868),new a(3835390401,2666613458),new a(4022224774,944711139),new a(264347078,2341262773),new a(604807628,2007800933),new a(770255983,1495990901),new a(1249150122,1856431235),new a(1555081692,3175218132),new a(1996064986,2198950837),new a(2554220882,3999719339),new a(2821834349,766784016),new a(2952996808,2566594879),new a(3210313671,3203337956),new a(3336571891,1034457026),new a(3584528711,2466948901),new a(113926993,3758326383),new a(338241895,168717936),new a(666307205,1188179964),new a(773529912,1546045734),new a(1294757372,1522805485),new a(1396182291,2643833823),new a(1695183700,2343527390),new a(1986661051,1014477480),new a(2177026350,1206759142),new a(2456956037,344077627),new a(2730485921,1290863460),new a(2820302411,3158454273),new a(3259730800,3505952657),new a(3345764771,106217008),new a(3516065817,3606008344),new a(3600352804,1432725776),new a(4094571909,1467031594),new a(275423344,851169720),new a(430227734,3100823752),new a(506948616,1363258195),new a(659060556,3750685593),new a(883997877,3785050280),new a(958139571,3318307427),new a(1322822218,3812723403),new a(1537002063,2003034995),new a(1747873779,3602036899),new a(1955562222,1575990012),new a(2024104815,1125592928),new a(2227730452,2716904306),new a(2361852424,442776044),new a(2428436474,593698344),new a(2756734187,3733110249),new a(3204031479,2999351573),new a(3329325298,3815920427),new a(3391569614,3928383900),new a(3515267271,566280711),new a(3940187606,3454069534),new a(4118630271,4000239992),new a(116418474,1914138554),new a(174292421,2731055270),new a(289380356,3203993006),new a(460393269,320620315),new a(685471733,587496836),new a(852142971,1086792851),new a(1017036298,365543100),new a(1126000580,2618297676),new a(1288033470,3409855158),new a(1501505948,4234509866),new a(1607167915,987167468),new a(1816402316,1246189591)],o=new Array(64);function i(e,t){var n=(65535&e.lowOrder)+(65535&t.lowOrder),o=(e.lowOrder>>>16)+(t.lowOrder>>>16)+(n>>>16),i=(65535&o)<<16|65535&n;return n=(65535&e.highOrder)+(65535&t.highOrder)+(o>>>16),new a((65535&(e.highOrder>>>16)+(t.highOrder>>>16)+(n>>>16))<<16|65535&n,i)}function s(e,t){return t<=32?new a(e.highOrder>>>t|e.lowOrder<<32-t,e.lowOrder>>>t|e.highOrder<<32-t):new a(e.lowOrder>>>t|e.highOrder<<32-t,e.highOrder>>>t|e.lowOrder<<32-t)}function r(e,t){return t<=32?new a(e.highOrder>>>t,e.lowOrder>>>t|e.highOrder<<32-t):new a(0,e.highOrder<<32-t)}l=8*(l=e,(e=unescape(encodeURIComponent(l))).length);var l;(e=function(e){for(var t=[],n=8*e.length,o=0;o<n;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<24-o%32;return t}(e))[l>>5]|=128<<24-l%32,e[31+(128+l>>10<<5)]=l;for(var d=0;d<e.length;d+=32){for(var c=t[0],u=t[1],p=t[2],h=t[3],f=t[4],m=t[5],g=t[6],v=t[7],y=0;y<80;y++)o[y]=y<16?new a(e[2*y+d],e[2*y+d+1]):(M=o[y-2],N=D=void 0,D=s(M,19),N=s(M,61),M=r(M,6),D=new a(D.highOrder^N.highOrder^M.highOrder,D.lowOrder^N.lowOrder^M.lowOrder),N=o[y-7],M=o[y-15],A=k=void 0,k=s(M,1),A=s(M,8),M=r(M,7),k=new a(k.highOrder^A.highOrder^M.highOrder,k.lowOrder^A.lowOrder^M.lowOrder),A=o[y-16],T=C=M=void 0,M=(65535&D.lowOrder)+(65535&N.lowOrder)+(65535&k.lowOrder)+(65535&A.lowOrder),C=(D.lowOrder>>>16)+(N.lowOrder>>>16)+(k.lowOrder>>>16)+(A.lowOrder>>>16)+(M>>>16),T=(65535&C)<<16|65535&M,M=(65535&D.highOrder)+(65535&N.highOrder)+(65535&k.highOrder)+(65535&A.highOrder)+(C>>>16),new a((65535&(D.highOrder>>>16)+(N.highOrder>>>16)+(k.highOrder>>>16)+(A.highOrder>>>16)+(M>>>16))<<16|65535&M,T)),C=v,N=D=void 0,D=s(k=f,14),N=s(k,18),k=s(k,41),A=new a(D.highOrder^N.highOrder^k.highOrder,D.lowOrder^N.lowOrder^k.lowOrder),M=m,T=g,E=new a((E=f).highOrder&M.highOrder^~E.highOrder&T.highOrder,E.lowOrder&M.lowOrder^~E.lowOrder&T.lowOrder),b=n[y],x=o[y],j=L=w=void 0,w=(65535&C.lowOrder)+(65535&A.lowOrder)+(65535&E.lowOrder)+(65535&b.lowOrder)+(65535&x.lowOrder),L=(C.lowOrder>>>16)+(A.lowOrder>>>16)+(E.lowOrder>>>16)+(b.lowOrder>>>16)+(x.lowOrder>>>16)+(w>>>16),j=(65535&L)<<16|65535&w,w=(65535&C.highOrder)+(65535&A.highOrder)+(65535&E.highOrder)+(65535&b.highOrder)+(65535&x.highOrder)+(L>>>16),L=new a((65535&(C.highOrder>>>16)+(A.highOrder>>>16)+(E.highOrder>>>16)+(b.highOrder>>>16)+(x.highOrder>>>16)+(w>>>16))<<16|65535&w,j),b=i((b=E=void 0,E=s(x=c,28),b=s(x,34),x=s(x,39),new a(E.highOrder^b.highOrder^x.highOrder,E.lowOrder^b.lowOrder^x.lowOrder)),(w=u,j=p,new a((E=c).highOrder&w.highOrder^E.highOrder&j.highOrder^w.highOrder&j.highOrder,E.lowOrder&w.lowOrder^E.lowOrder&j.lowOrder^w.lowOrder&j.lowOrder))),v=g,g=m,m=f,f=i(h,L),h=p,p=u,u=c,c=i(L,b);t[0]=i(c,t[0]),t[1]=i(u,t[1]),t[2]=i(p,t[2]),t[3]=i(h,t[3]),t[4]=i(f,t[4]),t[5]=i(m,t[5]),t[6]=i(g,t[6]),t[7]=i(v,t[7])}var b,x,w,L,j;var E;var C,T;var k,A;var M,D,N;for(var O=[],d=0;d<t.length;d++)O.push(t[d].highOrder),O.push(t[d].lowOrder);return function(e){for(var t,n="0123456789abcdef",o="",i=4*e.length,a=0;a<i;a+=1)t=e[a>>2]>>8*(3-a%4),o+=n.charAt(t>>4&15)+n.charAt(15&t);return o}(O)}}},o={},ge.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ge.d(t,{a:t}),t},ge.d=function(e,t){for(var n in t)ge.o(t,n)&&!ge.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},ge.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},me={},function(){"use strict";ge.d(me,{default:function(){return fe}});var a={two:function(e){return e=1==(e=""+e).length?"0"+e:e},focus:function(e){var t,n,o;e.innerText.length&&(t=document.createRange(),n=window.getSelection(),o=e.childNodes[e.childNodes.length-1],t.setStart(o,o.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t),e.scrollLeft=e.scrollWidth)},isNumeric:function(e){return"string"==typeof e&&(e=e.trim()),!isNaN(e)&&null!==e&&""!==e},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},getNode:function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},hash:function(e){var t,n,o=0;if(0===e.length)return o;for(t=0;t<e.length;t++)32<(n=e.charCodeAt(t))&&(o=(o<<5)-o+n,o|=0);return o},randomColor:function(e){for(var t,n=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,""),o=(n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),[]),i=0;i<3;i++)t=parseInt(n.substr(2*i,2),16),t=Math.round(Math.min(Math.max(0,t+-.25*t),255)).toString(16),o.push(("00"+t).substr(t.length));return 1==e?"#"+a.two(o[0].toString(16))+a.two(o[1].toString(16))+a.two(o[2].toString(16)):o},getWindowWidth:function(){var e=window,t=document,n=t.documentElement,t=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||t.clientWidth},getWindowHeight:function(){var e=window,t=document,n=t.documentElement,t=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||t.clientHeight},getPosition:function(e){var t;return e=e.changedTouches&&e.changedTouches[0]?(t=e.changedTouches[0].pageX,e.changedTouches[0].pageY):(t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop||document.body.scrollTop)),[t,e]},click:function(e){var t;e.click?e.click():(t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}),e.dispatchEvent(t))}},H=(a.findElement=function(e,n){var o=!1;return function e(t){t&&!o&&("function"==typeof n?o=n(t):"string"==typeof n&&t.classList&&t.classList.contains(n)&&(o=t)),t.parentNode&&!o&&e(t.parentNode)}(e),o},a);function i(e){return"undefined"!=typeof document&&document.dictionary&&document.dictionary[e]||e}n={now:function(e,t){var n=null,o=null,i=null,a=null,s=null,r=null,r=Array.isArray(e)?(n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],e[5]):(n=(e=e||new Date).getFullYear(),o=e.getMonth()+1,i=e.getDate(),a=e.getHours(),s=e.getMinutes(),e.getSeconds());return 1==t?H.two(n)+"-"+H.two(o)+"-"+H.two(i):H.two(n)+"-"+H.two(o)+"-"+H.two(i)+" "+H.two(a)+":"+H.two(s)+":"+H.two(r)},toArray:function(e){var t=(e=e.split(-1!==e.indexOf("T")?"T":" "))[1],e=e[0].split("-"),n=parseInt(e[0]),o=parseInt(e[1]),e=parseInt(e[2]),i=0,a=0;return t&&(t=t.split(":"),i=parseInt(t[0]),a=parseInt(t[1])),[n,o,e,i,a,0]}},o=Date.UTC(1900,0,0),s=Date.UTC(1900,1,29),r=864e5,n.dateToNum=function(e){e=(e="string"==typeof e?new Date(e+"  GMT+0"):e).getTime();return s<=e&&(e+=r),(e-=o)/r},n.numToDate=function(e){e=o+e*r;s<=e&&(e-=r);const t=new Date(e);e=[t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()];return n.now(e)},n.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n.months=["January","February","March","April","May","June","July","August","September","October","November","December"],n.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var n,o,s,r,A=n,M={setDictionary:function(e){document.dictionary||(document.dictionary={});for(var t=null,n=null,o=Object.keys(e),n=0;n<o.length;n++)document.dictionary[o[n]]=e[o[n]];for(n=0;n<A.weekdays.length;n++)t=i(A.weekdays[n]),A.weekdays[n]&&(A.weekdays[n]=t,A.weekdaysShort[n]=t.substr(0,3));for(n=0;n<A.months.length;n++)(t=i(A.months[n]))&&(A.months[n]=t,A.monthsShort[n]=t.substr(0,3))},translate:i};function l(e,t){!0===t?(l.state=l.state.filter(function(e){return null!==e}),setTimeout(function(){l.state.push(e)},0)):0<=(t=l.state.indexOf(e))&&l.state.splice(t,1)}var D=l;function P(n,o,i){if((n=n.split(".")).length){let e=this,t=null;for(;1<n.length;)if(t=n.shift(),e.hasOwnProperty(t))e=e[t];else{if(void 0===o)return;e[t]={},e=e[t]}if(t=n.shift(),void 0!==o)return!0===i?delete e[t]:e[t]=o,!0;if(e)return e[t]}return!1}function B(o,e){var t,i={options:{}},n={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},a=null;for(t in n)e&&e.hasOwnProperty(t)?i.options[t]=e[t]:i.options[t]=n[t];o.classList.add("jsorting"),o.addEventListener("dragstart",function(e){let t=e.target;if(3===t.nodeType){if("true"!==t.parentNode.getAttribute("draggable"))return e.preventDefault(),void e.stopPropagation();t=t.parentNode}var n;"true"===t.getAttribute("draggable")&&(n=Array.prototype.indexOf.call(t.parentNode.children,t),a={element:t,o:n,d:n},t.style.opacity="0.25","function"==typeof i.options.ondragstart&&i.options.ondragstart(o,t,e),e.dataTransfer.setDragImage(t,0,0))}),o.addEventListener("dragover",function(e){e.preventDefault(),a&&s(e.target)&&"true"==e.target.getAttribute("draggable")&&a.element!=e.target&&((i.options.direction?e.target.clientWidth/2>e.offsetX:e.target.clientHeight/2>e.offsetY)?e.target.parentNode.insertBefore(a.element,e.target):e.target.parentNode.insertBefore(a.element,e.target.nextSibling),a.d=Array.prototype.indexOf.call(e.target.parentNode.children,a.element))}),o.addEventListener("dragleave",function(e){e.preventDefault()}),o.addEventListener("dragend",function(e){e.preventDefault(),a&&("function"==typeof i.options.ondragend&&i.options.ondragend(o,a.element,e),a.o<a.d?e.target.parentNode.insertBefore(a.element,e.target.parentNode.children[a.o]):e.target.parentNode.insertBefore(a.element,e.target.parentNode.children[a.o].nextSibling),a.element.style.opacity="",a=null)}),o.addEventListener("drop",function(e){e.preventDefault(),a&&(a.o!==a.d&&"function"==typeof i.options.ondrop&&i.options.ondrop(o,a.o,a.d,a.element,e.target,e),a.element.style.opacity="",a=null)});for(var s=function(e){var n=!1;return function e(t){(n=!(!t.className||!t.classList.contains("jsorting"))||n)||e(t.parentNode)}(e),n},r=0;r<o.children.length;r++)o.children[r].hasAttribute("draggable")||o.children[r].setAttribute("draggable","true");return o.val=function(){for(var e,t=[],n=0;n<o.children.length;n++)(e=o.children[n].getAttribute("data-id"))&&t.push(e);return t},o}function z(o,i){function t(e){var t,n;null==a&&(t=!1,n=o.scrollTop,o.scrollTop+2*o.clientHeight>=o.scrollHeight?i.loadDown()&&(n==o.scrollTop&&(o.scrollTop=o.scrollTop-o.clientHeight),t=!0):o.scrollTop<=o.clientHeight&&i.loadUp()&&(n==o.scrollTop&&(o.scrollTop=o.scrollTop+o.clientHeight),t=!0),a=setTimeout(function(){a=null},i.timer),t&&"function"==typeof i.onupdate&&i.onupdate())}i.loadUp&&"function"==typeof i.loadUp||(i.loadUp=function(){return!1}),i.loadDown&&"function"==typeof i.loadDown||(i.loadDown=function(){return!1}),i.timer||(i.timer=100);var a=null;return o.onscroll=function(e){t()},o.onwheel=function(e){t()},{}}c.send=function(e){e.data?Array.isArray(e.data)?e.send(e.data.join("&")):e.send(e.data):e.send(),c.requests.push(e)},c.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},c.pending=function(e){var t=0,n=c.requests;if(n&&n.length)for(var o=0;o<n.length;o++)e&&e!=n[o].options.group||t++;return t},c.oncomplete={},c.requests=[],c.queue=[];var S=c;function c(n,e){if(Array.isArray(n)){var t={instance:[],complete:e};if(0<n.length)for(var o=0;o<n.length;o++)(n[o].multiple=t).instance.push(c(n[o]));return t}if(n.data||(n.data={}),n.type&&(n.method=n.type),n.method||(n.method="GET"),n.dataType||(n.dataType="json"),n.data){var d=function(e,t){var n=[];if(e){var o=Object.keys(e);if(o.length)for(var i,a=0;a<o.length;a++)if(e[i=t?t+"["+o[a]+"]":o[a]]instanceof FileList)n[i]=e[o[a]];else if(null===e[o[a]]||void 0===e[o[a]])n[i]="";else if("object"==typeof e[o[a]])for(var s=d(e[o[a]],i),r=Object.keys(s),l=0;l<r.length;l++)n[r[l]]=s[r[l]];else n[i]=e[o[a]]}return n},i=d(n.data),a=Object.keys(i);if("GET"==n.method){if(a.length){for(var s=[],o=0;o<a.length;o++)s.push(a[o]+"="+encodeURIComponent(i[a[o]]));n.url.indexOf("?")<0&&(n.url+="?"),n.url+=s.join("&")}}else for(s=new FormData,o=0;o<a.length;o++)if(i[a[o]]instanceof FileList){if(i[a[o]].length)for(var r=0;r<i[a[o]].length;r++)s.append(a[o],i[a[o]][r],i[a[o]][r].name)}else s.append(a[o],i[a[o]])}var l=new XMLHttpRequest;return l.open(n.method,n.url,!0),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.contentType&&l.setRequestHeader("Content-Type",n.contentType),"POST"===n.method?l.setRequestHeader("Accept","application/json"):"blob"===n.dataType?l.responseType="blob":n.contentType||("json"===n.dataType?l.setRequestHeader("Content-Type","text/json"):"html"===n.dataType&&l.setRequestHeader("Content-Type","text/html")),!0!==n.cache&&(l.setRequestHeader("pragma","no-cache"),l.setRequestHeader("cache-control","no-cache")),!0===n.withCredentials&&(l.withCredentials=!0),"function"==typeof n.beforeSend&&n.beforeSend(l),"function"==typeof c.beforeSend&&c.beforeSend(l),document.ajax&&"function"==typeof document.ajax.beforeSend&&document.ajax.beforeSend(l),l.onload=function(){var e;if(200<=l.status&&l.status<300)if("json"===n.dataType)try{var t=JSON.parse(l.responseText);n.success&&"function"==typeof n.success&&n.success(t)}catch(e){n.error&&"function"==typeof n.error&&n.error(e,t)}else t="blob"===n.dataType?l.response:l.responseText,n.success&&"function"==typeof n.success&&n.success(t);else n.error&&"function"==typeof n.error&&n.error(l.responseText,l.status);c.queue&&0<c.queue.length&&c.send(c.queue.shift()),c.requests&&c.requests.length&&(e=c.requests.indexOf(l),c.requests.splice(e,1),c.requests.length||n.complete&&"function"==typeof n.complete&&n.complete(t),n.group&&c.oncomplete&&"function"==typeof c.oncomplete[n.group]&&!c.pending(n.group)&&(c.oncomplete[n.group](),c.oncomplete[n.group]=null),n.multiple&&n.multiple.instance&&(e=n.multiple.instance.indexOf(l),n.multiple.instance.splice(e,1),n.multiple.instance.length||n.multiple.complete&&"function"==typeof n.multiple.complete&&n.multiple.complete(t)))},l.options=n,l.data=s,!0===n.queue&&0<c.requests.length?c.queue.push(l):c.send(l),l}var N=function(){const t={loading:{}};return t.loading.show=function(e){t.loading.element||(t.loading.element=document.createElement("div"),t.loading.element.className="jloading"),document.body.appendChild(t.loading.element),0<e&&setTimeout(function(){t.loading.hide()},1e3*e)},t.loading.hide=function(){t.loading.element&&t.loading.element.parentNode&&document.body.removeChild(t.loading.element)},t.slideLeft=function(e,t,n){1==t?(e.classList.add("jslide-left-in"),setTimeout(function(){e.classList.remove("jslide-left-in"),"function"==typeof n&&n()},400)):(e.classList.add("jslide-left-out"),setTimeout(function(){e.classList.remove("jslide-left-out"),"function"==typeof n&&n()},400))},t.slideRight=function(e,t,n){!0===t?(e.classList.add("jslide-right-in"),setTimeout(function(){e.classList.remove("jslide-right-in"),"function"==typeof n&&n()},400)):(e.classList.add("jslide-right-out"),setTimeout(function(){e.classList.remove("jslide-right-out"),"function"==typeof n&&n()},400))},t.slideTop=function(e,t,n){!0===t?(e.classList.add("jslide-top-in"),setTimeout(function(){e.classList.remove("jslide-top-in"),"function"==typeof n&&n()},400)):(e.classList.add("jslide-top-out"),setTimeout(function(){e.classList.remove("jslide-top-out"),"function"==typeof n&&n()},400))},t.slideBottom=function(e,t,n){!0===t?(e.classList.add("jslide-bottom-in"),setTimeout(function(){e.classList.remove("jslide-bottom-in"),"function"==typeof n&&n()},400)):(e.classList.add("jslide-bottom-out"),setTimeout(function(){e.classList.remove("jslide-bottom-out"),"function"==typeof n&&n()},100))},t.fadeIn=function(e,t){e.style.display="",e.classList.add("jfade-in"),setTimeout(function(){e.classList.remove("jfade-in"),"function"==typeof t&&t()},2e3)},t.fadeOut=function(e,t){e.classList.add("jfade-out"),setTimeout(function(){e.style.display="none",e.classList.remove("jfade-out"),"function"==typeof t&&t()},1e3)},t}();d={text:["@"],currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","MONTH","MON","HH24","HH12","HH","\\[H\\]","H","AM/PM","MI","SS","MS","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},u=function(e){return"currency"===e||"percentage"===e||"numeric"===e},h=function(e){return e&&Number(e)==e?".":this.options.decimal||(this.locale?(t=Intl.NumberFormat(this.locale).format(1.1),this.options.decimal=t[1]):(e=e||this.mask,(t=new RegExp("0{1}(.{1})0+","ig").exec(e))&&t[1]&&1==t[1].length?(this.options.decimal=t[1],t[1]):((t=new RegExp("#{1}(.{1})#+","ig").exec(e))&&t[1]&&1==t[1].length?","===t[1]?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2),this.options.decimal||null)));var t},p=function(e,t){if(""==e)return"";t=t||h.call(this);t=!(!(t=(e=(""+e).split(t))[0].match(/[-]+/g))||!t.length);return e[0]=e[0].match(/[0-9]+/g),e[0]?(t&&e[0].unshift("-"),e[0]=e[0].join("")):t&&(e[0]="-"),e[0]||e[1]?(void 0!==e[1]&&(e[1]=e[1].match(/[0-9]+/g),e[1]?e[1]=e[1].join(""):e[1]=""),e):""},W=function(e,t){if(""===e)return"";var n=h.call(this),o=this.options;if(""===(e=p.call(this,e)))return"";var i=null;if(e[0]&&(i="percent"===o.style?parseFloat(e[0])/100:parseFloat(e[0]+".1")),("-"===e[0]||"-00"===e[0])&&!e[1]&&t&&"deleteContentBackward"==t.inputType)return"";t=(t=new Intl.NumberFormat(this.locale,o).format(i)).split(n);return"percent"===o.style&&-1!==t[0].indexOf("%")&&(t[0]=t[0].replace("%",""),t[2]="%"),void 0!==t[1]&&(i=t[1].replace(/[0-9]*/g,""))&&(t[2]=i),void 0!==e[1]?t[1]=n+e[1]:t[1]="",t.join("")},f=function(e,t){var n;if(void 0===e)return"DIV"==this.tagName?(n=0,(o=window.getSelection())&&0!==o.rangeCount&&((s=(i=o.getRangeAt(0)).cloneRange()).selectNodeContents(this),s.setEnd(i.endContainer,i.endOffset),n=s.toString().length),n):this.selectionStart;var o,i,a=m.call(this);if(t){for(var s=null,r=0;r<a.length;r++)!a[r].match(/[\-0-9]/g)&&"."!==a[r]&&","!==a[r]||(s=r);(s=null===s?a.indexOf(" "):s)<=e&&(e=s+1)}(e=e>a.length?a.length:e)&&("DIV"==this.tagName?(o=window.getSelection(),i=document.createRange(),this.childNodes[0]&&(i.setStart(this.childNodes[0],e),o.removeAllRanges(),o.addRange(i))):(this.selectionStart=e,this.selectionEnd=e))},m=function(e,t,n){if("DIV"==this.tagName){if(void 0===e)return e=this.innerText,this.value&&this.value.length>e.length?this.value:e;this.innerText!==e&&(this.innerText=e,t&&f.call(this,t,n))}else{if(void 0===e)return this.value;this.value!==e&&(this.value=e,t&&f.call(this,t,n))}},t=A.weekdays,q=A.weekdaysShort,g=A.months,_=A.monthsShort,v={YEAR:function(e,t){var n=""+(new Date).getFullYear();void 0===this.values[this.index]&&(this.values[this.index]=""),0<=parseInt(e)&&parseInt(e)<=10&&this.values[this.index].length<t&&(this.values[this.index]+=e),this.values[this.index].length==t&&(2==t?n=n.substr(0,2)+this.values[this.index]:3==t?n=n.substr(0,1)+this.values[this.index]:4==t&&(n=this.values[this.index]),this.date[0]=n,this.index++)},YYYY:function(e){v.YEAR.call(this,e,4)},YYY:function(e){v.YEAR.call(this,e,3)},YY:function(e){v.YEAR.call(this,e,2)},FIND:function(e,t){if(L(this.values[this.index])&&(this.values[this.index]=""),this.event&&this.event.inputType&&-1<this.event.inputType.indexOf("delete"))this.values[this.index]+=e;else{for(var n=0,o=0,i=(this.values[this.index]+e).toLowerCase(),a=0;a<t.length;a++)0==t[a].toLowerCase().indexOf(i)&&(n=a,o++);if(1<o)this.values[this.index]+=e;else if(1==o)return e=t[n].length-this.values[this.index].length-1,this.position+=e,this.values[this.index]=t[n],this.index++,n}},MMM:function(e){e=v.FIND.call(this,e,_);void 0!==e&&(this.date[1]=e+1)},MON:function(e){v.MMM.call(this,e)},MMMM:function(e){e=v.FIND.call(this,e,g);void 0!==e&&(this.date[1]=e+1)},MONTH:function(e){v.MMMM.call(this,e)},MMMMM:function(e){L(this.values[this.index])&&(this.values[this.index]="");for(var t=(this.values[this.index]+e).toLowerCase(),n=0;n<g.length;n++)if(0==g[n][0].toLowerCase().indexOf(t)){this.values[this.index]=g[n][0],this.date[1]=n+1,this.index++;break}},MM:function(e){L(this.values[this.index])?1<parseInt(e)&&parseInt(e)<10?(this.date[1]=this.values[this.index]="0"+e,this.index++):parseInt(e)<2&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&0<parseInt(e)&&parseInt(e)<10)&&(this.date[1]=this.values[this.index]+=e,this.index++)},M:function(e){var t=!1;0<=parseInt(e)&&parseInt(e)<10?L(this.values[this.index])?1<(this.values[this.index]=e)&&(this.date[1]=this.values[this.index],this.index++):1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&0<parseInt(e)?(this.date[1]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t&&0<(e=parseInt(this.values[this.index]))&&e<12&&(this.date[1]=this.values[this.index],this.index++,this.position--)},D:function(e){var t=!1;0<=parseInt(e)&&parseInt(e)<10?L(this.values[this.index])?(this.values[this.index]=e,3<parseInt(e)&&(this.date[2]=this.values[this.index],this.index++)):3==this.values[this.index]&&parseInt(e)<2||1==this.values[this.index]||2==this.values[this.index]||0==this.values[this.index]&&0<parseInt(e)?(this.date[2]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t&&0<(e=parseInt(this.values[this.index]))&&e<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)},DD:function(e){L(this.values[this.index])?3<parseInt(e)&&parseInt(e)<10?(this.date[2]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(3==this.values[this.index]&&parseInt(e)<2||(1==this.values[this.index]||2==this.values[this.index])&&parseInt(e)<10||0==this.values[this.index]&&0<parseInt(e)&&parseInt(e)<10)&&(this.date[2]=this.values[this.index]+=e,this.index++)},DDD:function(e){v.FIND.call(this,e,q)},DY:function(e){v.DDD.call(this,e)},DDDD:function(e){v.FIND.call(this,e,t)},DAY:function(e){v.DDDD.call(this,e)},HH12:function(e,t){L(this.values[this.index])?1<parseInt(e)&&parseInt(e)<10?(this.date[3]=this.values[this.index]=e=t?0+e:e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||this.values[this.index]<1&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++)},HH24:function(e,t){0<=parseInt(e)&&parseInt(e)<10&&(null==this.values[this.index]||""==this.values[this.index]?2<parseInt(e)&&parseInt(e)<10?(this.date[3]=this.values[this.index]=e=t?0+e:e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(2==this.values[this.index]&&parseInt(e)<4||this.values[this.index]<2&&parseInt(e)<10)&&(t||"0"!==this.values[this.index]||(this.values[this.index]=""),this.date[3]=this.values[this.index]+=e,this.index++))},HH:function(e){v.HH24.call(this,e,1)},H:function(e){v.HH24.call(this,e,0)},"\\[H\\]":function(e){null==this.values[this.index]&&(this.values[this.index]=""),e.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=e:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(e,t){null==this.values[this.index]||""==this.values[this.index]?5<parseInt(e)&&parseInt(e)<10?(this.date[t]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):parseInt(e)<10&&(this.date[t]=this.values[this.index]+=e,this.index++)},MI:function(e){v.N60.call(this,e,4)},SS:function(e){v.N60.call(this,e,5)},"AM/PM":function(e){void 0===this.values[this.index]&&(this.values[this.index]=""),""===this.values[this.index]?e.match(/a/i)&&this.date[3]<13?this.values[this.index]+="A":e.match(/p/i)&&(this.values[this.index]+="P"):"A"!==this.values[this.index]&&"P"!==this.values[this.index]||(this.values[this.index]+="M",this.index++)},WD:function(e){void 0===this.values[this.index]&&(this.values[this.index]=""),0<=parseInt(e)&&parseInt(e)<7&&(this.values[this.index]=e),1==this.values[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(e){var t=h.call(this),n=!1,o=(L(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(n=!0),p.call(this,this.values[this.index],t));o&&(this.values[this.index]=o.join(t)),0<=parseInt(e)&&parseInt(e)<10?("0"==this.values[this.index]&&0<e?this.values[this.index]="":"-0"==this.values[this.index]&&0<e&&(this.values[this.index]="-"),("0"!=this.values[this.index]&&"-0"!=this.values[this.index]||e==t)&&(this.values[this.index]+=e)):t&&e==t?-1==this.values[this.index].indexOf(t)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=e):"-"==e&&(n=!0),!0===n&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(e){v["0{1}(.{1}0+)?"].call(this,e),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(e){v["0{1}(.{1}0+)?"].call(this,e);var e=h.call(this),t=this.tokens[this.index].substr(1,1),n="-"===this.values[this.index][0],o=p.call(this,this.values[this.index],e);if(""!==o){if(i=o[0].match(/[0-9]/g)){for(var i,a=[],s=0,r=(i=i.join("")).length-1;0<=r;r--)a.push(i[r]),++s%3||a.push(t);a=a.reverse(),o[0]=a.join(""),o[0].substr(0,1)==t&&(o[0]=o[0].substr(1))}else o[0]="";this.values[this.index]=o.join(e),n&&(this.values[this.index]="-"+this.values[this.index])}},0:function(e){e.match(/[0-9]/g)&&(this.values[this.index]=e,this.index++)},"[0-9a-zA-Z$]+":function(e){L(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index];t[this.values[this.index].length]==e?(this.values[this.index]+=e,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,e.match(/[\-0-9]/g)&&this.position--)},A:function(e){e.match(/[a-zA-Z]/gi)&&(this.values[this.index]=e,this.index++)},".":function(e){v["[0-9a-zA-Z$]+"].call(this,e)},"@":function(e){L(this.values[this.index])&&(this.values[this.index]=""),this.values[this.index]+=e}},b=function(e){t="general"==this.type?[].concat(d.general):[].concat(d.currency,d.datetime,d.percentage,d.numeric,d.text,d.general);var t=new RegExp(t.join("|"),"gi");return e.match(t)},w=function(e){var t;t=this.type?"text"==this.type?["text"]:"general"==this.type?["general"]:"datetime"==this.type?["numeric","datetime","general"]:["currency","percentage","numeric","general"]:Object.keys(d);for(var n=0;n<t.length;n++)for(var o=t[n],i=0;i<d[o].length;i++){var a=new RegExp(d[o][i],"gi");if(e.match(a))return{type:o,method:d[o][i]}}},E.adjustPrecision=function(e){if("number"==typeof e&&!Number.isInteger(e)){var n=e.toString().split(".");if(n[1]&&10<n[1].length){let t=0;var o=n[1][n[1].length-2];if(0==o||9==o){for(let e=n[1].length-2;0<e;e--){if(!(0<=t&&n[1][e]==o)){t=0;break}if(6<++t)break}if(t)return parseFloat(parseFloat(e).toFixed(n[1].length-1))}}}return e},E.getType=j,E.prepare=function(e,t){return b.call(t=t||{},e)},E.apply=function(e){var t=m.call(e.target);1==e.key.length&&(t+=e.key),m.call(e.target,E(t,e.target.getAttribute("data-mask")))},E.run=function(e,t,n){return E(e,{mask:t,decimal:n})},E.extract=function(e,t,n){if(L(e))return e;if("object"!=typeof t)return e;(t=Object.assign({},t)).options||(t.options={}),!t.mask&&t.format&&(t.mask=t.format),t.mask&&(-1!==t.mask.indexOf(";")&&(i=t.mask.split(";"),t.mask=i[0]),t.mask=t.mask.replace(new RegExp(/\[h]/),"|h|"),t.mask=t.mask.replace(new RegExp(/\[.*?\]/),""),t.mask=t.mask.replace(new RegExp(/\|h\|/),"[h]")),h.call(t,t.mask);var o,i=null,a=null;return"percent"==t.type||"percent"==t.options.style?i="percentage":t.mask&&(i=j.call(t,t.mask)),"general"===i?(o=E(e,t,!0),a=e):"datetime"===i?(e instanceof Date&&(e=E.getDateString(e,t.mask)),o=E(e,t,!0),a=H.isNumeric(e)?e:function(){var e,t="";return this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]||this.date[1]||this.date[2]||this.date[3]||this.date[4]||this.date[5])&&(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),e=A.now(this.date),t=A.dateToNum(e),this.date[4]&&(t+=parseFloat(this.date[4]/60))):(t=-1!==this.mask.toLowerCase().indexOf("[h]")?parseInt(this.date[3]):(e=parseInt(this.date[3]))<13&&-1!==this.values.indexOf("PM")?(e+12)%24:e%24,this.date[4]&&(t+=parseFloat(this.date[4]/60)),this.date[5]&&(t+=parseFloat(this.date[5]/3600)),t/=24),t=isNaN(t)?"":t}.call(o)):(a=U.call(t,e),"percentage"===i&&-1!==(""+e).indexOf("%")&&(a/=100),o=t),o.value=a,!o.type&&i&&(o.type=i),n?o:a},E.render=function(e,t,n){if(L(e))return e;if("object"!=typeof t)return e;(t=Object.assign({},t)).options||(t.options={}),!t.mask&&t.format&&(t.mask=t.format),t.mask&&(-1!==t.mask.indexOf(";")&&(a=t.mask.split(";"),n||(a[0]=a[0].replace(new RegExp(/_\)/g),""),a[0]=a[0].replace(new RegExp(/_\(/g),"")),t.mask=a[0]),t.mask=t.mask.replace(new RegExp(/\[h]/),"|h|"),t.mask=t.mask.replace(new RegExp(/\[.*?\]/),""),t.mask=t.mask.replace(new RegExp(/\|h\|/),"[h]"));var o=null,i=("percent"==t.type||"percent"==t.options.style?o="percentage":t.mask?o=j.call(t,t.mask):e instanceof Date&&(o="datetime"),!1);if("datetime"==o||"calendar"==t.type)(a=E.getDateString(e,t.mask))&&(e=a),t.mask&&n&&(i=!0);else if("number"==typeof(e="percentage"===o?E.adjustPrecision(100*e):e)){var a=null;if(t.mask&&n&&-1===(""+e).indexOf("e")){var s,r=h.call(t,t.mask);a=-1!==t.mask.indexOf(r)?(r=(r=""+(r=t.mask.split(r))[1].match(/[0-9]+/g)).length,a=e.toFixed(r),((s=(u=e.toString().split("."))[1])&&s.length>r&&"5"===s[s.length-1]?parseFloat(u[0]+"."+s+"1"):e).toFixed(r)):e.toFixed(0)}else if(t.locale&&n){r=(""+e).split(".");if(t.options){void 0===r[1]&&(r[1]="");var l=r[1].length;if(t.options.minimumFractionDigits>l)for(var d=0;d<t.options.minimumFractionDigits-l;d++)r[1]+="0"}a=r[1].length?r.join("."):r[0];l=r[1].length;t.options&&t.options.maximumFractionDigits<l&&(a=parseFloat(a).toFixed(t.options.maximumFractionDigits))}else a=(""+ +e).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,function(e,t,n,o,i){return i<0?t+"0."+Array(1-i-n.length).join(0)+n+o:t+n+o+Array(i-o.length+1).join(0)});null!==a&&(e=a,h.call(t,t.mask),t.options.decimal&&(e=e.replace(".",t.options.decimal)))}else t.mask&&n&&(i=!0);if(i){var c=t.mask.length-e.length;if(0<c)for(d=0;d<c;d++)e+=" "}if(e=E(e,t),n&&"numeric"===o){var u=t.mask.match(new RegExp(/^[0]+$/gm));if(u&&1===u.length){var p=u[0].length;if(3<p)for(e=""+e;e.length<p;)e="0"+e}}return e},E.set=function(e,t){t&&(e.setAttribute("data-mask",t),t=new Event("input",{bubbles:!0,cancelable:!0}),e.dispatchEvent(t))},E.extractDateFromString=function(e,t){t=E(e,{mask:t},!0);if(0<e&&Number(e)==e&&(t.values.join("")!==t.value||"numeric"==t.type))return(e=new Date(Math.round(86400*(e-25569)*1e3))).getFullYear()+"-"+H.two(e.getMonth())+"-"+H.two(e.getDate())+" 00:00:00";e=!1;return t.values&&t.values.length===t.tokens.length&&t.values[t.values.length-1].length>=t.tokens[t.tokens.length-1].length&&(e=!0),t.date[0]&&t.date[1]&&(t.date[2]||e)?(t.date[2]||(t.date[2]=1),t.date[0]+"-"+H.two(t.date[1])+"-"+H.two(t.date[2])+" "+H.two(t.date[3])+":"+H.two(t.date[4])+":"+H.two(t.date[5])):""},E.getDateString=function(e,t){if((t=t||{})&&"object"==typeof t?t.format?s=t.format:t.mask&&(s=t.mask):s=t,0<=(s=s||"YYYY-MM-DD").indexOf("[h]"))return t=0,e&&H.isNumeric(e)&&(t=parseFloat(24*Number(e)),0<=s.indexOf("mm")&&(a=(r=(""+t).split("."))[1]?(a=60*parseFloat("0."+r[1]),parseFloat(a.toFixed(2))):0,t=parseInt(r[0])+":"+H.two(a))),t;e instanceof Date?e=A.now(e):e&&H.isNumeric(e)&&(e=A.numToDate(e));for(var t=new RegExp(["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."].join("|"),"gi"),n=s.match(t),o=0;o<n.length;o++)"MM"==n[o].toUpperCase()&&(n[o-1]&&0<=n[o-1].toUpperCase().indexOf("H")||n[o-2]&&0<=n[o-2].toUpperCase().indexOf("H")||n[o+1]&&0<=n[o+1].toUpperCase().indexOf("S")||n[o+2]&&0<=n[o+2].toUpperCase().indexOf("S"))&&(n[o]="mi");var i={tokens:n};if(e){var a,s=-1!==(a=""+e).indexOf("T")?"T":" ",r=0,t=0,l=0,s=((a=a.split(s))[1]&&(t=(r=a[1].split(":"))[1]||0,l=r[2]||0,r=r[0]||0),a=a[0].split("-"),new Date(a[0],a[1],0).getDate());if(a[0]&&a[1]&&a[2]&&0<a[0]&&0<a[1]&&a[1]<13&&0<a[2]&&a[2]<=s){i.data=[a[0],a[1],a[2],r,t,l],i.value=[];for(var d=new Date(i.data[0],i.data[1]-1,i.data[2],i.data[3],i.data[4],i.data[5]),c=function(e){var t=this.tokens[e],n=t.toUpperCase(),o=null;"YYYY"===n?o=this.data[0]:"YYY"===n?o=this.data[0].substring(1,4):"YY"===n?o=this.data[0].substring(2,4):"Y"===n?o=this.data[0].substring(3,4):"MON"===t?o=A.months[d.getMonth()].substr(0,3).toUpperCase():"mon"===t?o=A.months[d.getMonth()].substr(0,3).toLowerCase():"MONTH"===t?o=A.months[d.getMonth()].toUpperCase():"month"===t?o=A.months[d.getMonth()].toLowerCase():"MMMMM"===n?o=A.months[d.getMonth()].substr(0,1):"MMMM"===n||"Month"===t?o=A.months[d.getMonth()]:"MMM"===n||"Mon"==t?o=A.months[d.getMonth()].substr(0,3):"MM"===n?o=H.two(this.data[1]):"M"===n?o=d.getMonth()+1:"DAY"===t?o=A.weekdays[d.getDay()].toUpperCase():"day"===t?o=A.weekdays[d.getDay()].toLowerCase():"DDDD"===n||"Day"==t?o=A.weekdays[d.getDay()]:"DDD"===n?o=A.weekdays[d.getDay()].substr(0,3):"DD"===n?o=H.two(this.data[2]):"D"===n?o=parseInt(this.data[2]):"Q"===n?o=Math.floor((d.getMonth()+3)/3):"HH24"===n||"HH"===n?(12<(o=this.data[3])&&-1!==this.tokens.indexOf("am/pm")&&(o-=12),o=H.two(o)):"HH12"===n?o=12<this.data[3]?H.two(this.data[3]-12):H.two(this.data[3]):"H"===n?12<(o=this.data[3])&&-1!==this.tokens.indexOf("am/pm")&&(o=H.two(o-=12)):"MI"===n?o=H.two(this.data[4]):"SS"===n?o=H.two(this.data[5]):"MS"===n?o=d.getMilliseconds():"AM/PM"===n?o=12<=this.data[3]?"PM":"AM":"WD"===n&&(o=A.weekdays[d.getDay()]),this.value[e]=null===o?this.tokens[e]:o},o=0;o<i.tokens.length;o++)c.call(i,o);e=i.value.join("")}else e=""}return e};var d,u,h,p,W,f,m,t,q,g,_,v,b,w,e=E;function L(e){return null===e||""===e||void 0===e}function U(e){return(e=p.call(this,e))?("-"===e[0]&&(e[0]="-0"),parseFloat(e.join("."))):null}function j(e){var t,n=w.call(this,e);if(t=n?n.type:t){for(var o=0,i=b.call(this,e),a=0;a<i.length;a++)(n=w.call(this,i[a]))&&u(n.type)&&o++;1<o&&(t="general")}return t}function X(){"function"==typeof v[this.methods[this.index]]?(v[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)}function E(e,t,n){var o=null,i={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof e){if(i.input=e.target,i.value=m.call(e.target),i.caret=f.call(e.target),(o=e.target.getAttribute("data-mask"))&&(i.mask=o),(o=e.target.getAttribute("data-type"))&&(i.type=o),e.target.mask?(e.target.mask.options&&(i.options=e.target.mask.options),e.target.mask.locale&&(i.locale=e.target.mask.locale)):(o=e.target.getAttribute("data-locale"))&&(i.locale=o,i.mask&&(i.options.style=i.mask)),e.target.attributes&&e.target.attributes.length)for(var a=0;a<e.target.attributes.length;a++){var s=e.target.attributes[a].name,r=e.target.attributes[a].value;"data"==s.substr(0,4)&&(i.options[s.substr(5)]=r)}}else{if("string"==typeof t)i.mask=t;else for(s=Object.keys(t),a=0;a<s.length;a++)i[s[a]]=t[s[a]];"number"==typeof e&&(h.call(i,i.mask),e=(""+e).replace(".",i.options.decimal)),i.value=e,i.input&&(m.call(i.input,e),H.focus(i.input),i.caret=f.call(i.input))}if("="!=(""+i.value)[0]&&(i.mask||i.locale)){if(i.mask&&(i.mask=i.mask.replace(new RegExp(/\[h]/),"|h|"),i.mask=i.mask.replace(new RegExp(/\[.*?\]/),""),i.mask=i.mask.replace(new RegExp(/\|h\|/),"[h]"),-1!==i.mask.indexOf(";")&&(o=i.mask.split(";"),i.mask=o[0]),-1!==i.mask.indexOf("##")&&((l=i.mask.split(";"))[0]&&("object"==typeof e&&(l[0]=l[0].replace(new RegExp(/_\)/g),""),l[0]=l[0].replace(new RegExp(/_\(/g),"")),l[0]=l[0].replace("*","\t"),l[0]=l[0].replace(new RegExp(/_-/g),""),l[0]=l[0].replace(new RegExp(/_/g),""),l[0]=l[0].replace(new RegExp(/"/g),""),l[0]=l[0].replace("##0.###","##0.000"),l[0]=l[0].replace("##0.##","##0.00"),l[0]=l[0].replace("##0.#","##0.0"),l[0]=l[0].replace("##0,###","##0,000"),l[0]=l[0].replace("##0,##","##0,00"),l[0]=l[0].replace("##0,#","##0,0")),i.mask=l[0]),-1!==i.mask.indexOf("\\")&&((l=i.mask.split(";"))[0]=l[0].replace(new RegExp(/\\/g),""),i.mask=l[0]),i.type||(i.type=j.call(i,i.mask)),i.tokens=b.call(i,i.mask)),"object"!=typeof e||!e.inputType||!e.inputType.indexOf("insert")||!e.inputType.indexOf("delete"))if(i.locale)i.input?function(e,t){var n=m.call(e);n&&(n=(t=W.call(this,n,t)).length-n.length,n=f.call(e)+n,m.call(e,t,n,!0))}.call(i,i.input,e):d=W.call(i,i.value);else{for(i.methods=function(e){for(var t=[],n=0;n<e.length;n++){var o=w.call(this,e[n]);o?t.push(o.method):t.push(null)}for(n=0;n<t.length;n++)"MM"==t[n]&&(t[n-1]&&0<=t[n-1].indexOf("H")||t[n-2]&&0<=t[n-2].indexOf("H")||t[n+1]&&0<=t[n+1].indexOf("S")||t[n+2]&&0<=t[n+2].indexOf("S"))&&(t[n]="MI");return t}.call(i,i.tokens),i.event=e;i.position<i.value.length&&void 0!==i.tokens[i.index];)X.call(i);var l,d=i.values.join("");if(u(i.type)&&""!==d){for(;void 0!==i.tokens[i.index];)(o=w.call(i,i.tokens[i.index]))&&"general"==o.type&&(i.values[i.index]=i.tokens[i.index]),i.index++;var c=!0}else c=!1;d=i.values.join(""),i.input&&(l=0<(o=d.length-i.value.length)?i.caret+o:i.caret,m.call(i.input,d,l,c))}if(i.input&&(l=null,u(i.type)?(c=m.call(i.input),i.number=U.call(i,c),l="percentage"==i.type&&-1!==(""+c).indexOf("%")?E.adjustPrecision(i.number/100):i.number):"datetime"==i.type&&(l=function(){var e;return-1!==this.mask.toLowerCase().indexOf("[h]")?(e=0,this.date[4]&&(e=parseFloat(this.date[4]/60)),e=parseInt(this.date[3])+e,e/=24):this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),e=H.two(this.date[0])+"-"+H.two(this.date[1])+"-"+H.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(e+=" "+H.two(this.date[3])+":"+H.two(this.date[4])+":"+H.two(this.date[5]))):e=H.two(this.date[3])+":"+H.two(this.date[4])+":"+H.two(this.date[5]),e}.call(i),i.date[0]&&i.date[1]&&i.date[2]&&i.input.setAttribute("data-completed",!0)),l&&i.input.setAttribute("data-value",l)),void 0!==d)return n?i:d}}O.keydown=function(e){var t=null;(t=O.current)&&(13==e.which?t.close(!1,!0):27==e.which&&t.close(!1,!1))},O.prettify=function(e,t){t=t||{justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"},-1===e.indexOf("GMT")&&-1===e.indexOf("Z")&&(e+=" GMT");var n=new Date,e=new Date(e),n=parseInt((n-e)/1e3/60);return String.prototype.format=function(e){return this.replace("{0}",e)},0==n?t.justNow:n<90?t.xMinutesAgo.format(n):n<1440?t.xHoursAgo.format(Math.round(n/60)):n<20160?t.xDaysAgo.format(Math.round(n/1440)):n<43200?t.xWeeksAgo.format(Math.round(n/10080)):n<1036800?t.xMonthsAgo.format(Math.round(n/43200)):t.xYearsAgo.format(Math.round(n/525600))},O.prettifyAll=function(){for(var e=document.querySelectorAll(".prettydate"),t=0;t<e.length;t++)e[t].getAttribute("data-date")?e[t].innerHTML=O.prettify(e[t].getAttribute("data-date")):e[t].innerHTML&&(e[t].setAttribute("title",e[t].innerHTML),e[t].setAttribute("data-date",e[t].innerHTML),e[t].innerHTML=O.prettify(e[t].innerHTML))},O.now=A.now,O.toArray=A.toArray,O.dateToNum=A.dateToNum,O.numToDate=A.numToDate,O.weekdays=A.weekdays,O.months=A.months,O.weekdaysShort=A.weekdaysShort,O.monthsShort=A.monthsShort,O.extractDateFromString=e.extractDateFromString,O.getDateString=e.getDateString;var G=O;function O(l,e){if(l.calendar)return l.calendar.setOptions(e,!0);function t(e){var t,n;H.findElement(e.target,"jcalendar-container")?"jcalendar-prev"==(t=e.target.className)?y.prev():"jcalendar-next"==t?y.next():"jcalendar-month"==t?y.getMonths():"jcalendar-year"==t?y.getYears():"jcalendar-set-year"==t?(y.date[0]=e.target.innerText,"year-month-picker"==y.options.type?y.getMonths():y.getDays()):e.target.classList.contains("jcalendar-set-month")?(n=parseInt(e.target.getAttribute("data-value")),"year-month-picker"==y.options.type?y.update(e.target,n):(y.date[1]=n,y.getDays())):"jcalendar-confirm"==t||"jcalendar-update"==t||"jcalendar-close"==t?y.close(null,!0):"jcalendar-backdrop"==t?y.close(!1,!1):"jcalendar-reset"==t?y.reset():e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&y.update(e.target):y.close(!1,!1)}function n(e){e.target.value&&3<e.target.value.length&&((e=O.extractDateFromString(e.target.value,y.options.format))&&y.setValue(e))}var y={type:"calendar",options:{},date:null,setOptions:function(e,t){var n,o,i={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:A.monthsShort,monthsFull:A.months,weekdays:A.weekdays,textDone:M.translate("Done"),textReset:M.translate("Reset"),textUpdate:M.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null,controls:!0,autoSelect:!0};for(n in i)e&&e.hasOwnProperty(n)?y.options[n]=e[n]:void 0!==y.options[n]&&!0!==t||(y.options[n]=i[n]);return 0==y.options.resetButton?a.style.display="none":a.style.display="",y.options.readonly?l.setAttribute("readonly","readonly"):l.removeAttribute("readonly"),y.options.placeholder?l.setAttribute("placeholder",y.options.placeholder):l.removeAttribute("placeholder"),H.isNumeric(y.options.value)&&0<y.options.value&&(y.options.value=O.numToDate(y.options.value),y.options.dataType="numeric"),a.innerHTML=y.options.textReset,s.innerHTML=y.options.textDone,p.innerHTML=y.options.textUpdate,l.setAttribute("data-mask",y.options.format.toLowerCase()),(o=!y.options.value&&y.options.today?O.now():y.options.value)&&(y.options.value=null,y.setValue(o)),y},open:function(e){var t,n,o;i.classList.contains("jcalendar-focus")||i.classList.contains("jcalendar-inline")||(D(O.current=y,!0),y.getDays(),"year-month-picker"==y.options.type&&y.getMonths(),y.options.time&&(h.value=y.date[3],f.value=y.date[4]),i.classList.add("jcalendar-focus"),H.getWindowWidth()<800||y.options.fullscreen?(i.classList.add("jcalendar-fullsize"),N.slideBottom(d,1)):(i.classList.remove("jcalendar-fullsize"),t=l.getBoundingClientRect(),n=d.getBoundingClientRect(),y.options.position?(r.style.position="fixed",window.innerHeight<t.bottom+n.height?r.style.top=t.top-(n.height+2)+"px":r.style.top=t.top+t.height+2+"px",r.style.left=t.left+"px"):(window.innerHeight<t.bottom+n.height?((o=-1*(t.height+n.height+2))+t.top<0&&(o=-1*(t.top+t.height)),r.style.top=o+"px"):r.style.top="2px",window.innerWidth<t.left+n.width?(o=window.innerWidth-(t.left+n.width+20),r.style.left=o+"px"):r.style.left="0px")),"function"==typeof y.options.onopen&&y.options.onopen(l))},close:function(e,t){var n;return!0!==y.options.autoSelect&&void 0===t&&(t=!1),i.classList.contains("jcalendar-focus")&&(!1!==t?(n=i.querySelector(".jcalendar-selected"),t="string"==typeof t?t:!n||n.classList.contains("jcalendar-disabled")?y.options.value:y.getValue(),y.setValue(t)):(n=y.options.value||"",y.options.value=null,y.setValue(n)),e||"function"!=typeof y.options.onclose||y.options.onclose(l),i.classList.remove("jcalendar-focus"),D(y,!1),O.current=null),y.options.value},prev:function(){"years"==y.options.mode?(y.date[0]=y.date[0]-12,y.getYears()):"months"==y.options.mode?(y.date[0]=parseInt(y.date[0])-1,y.getMonths()):(y.date[1]<2?(y.date[0]=y.date[0]-1,y.date[1]=12):y.date[1]=y.date[1]-1,y.getDays())},next:function(){"years"==y.options.mode?(y.date[0]=parseInt(y.date[0])+12,y.getYears()):"months"==y.options.mode?(y.date[0]=parseInt(y.date[0])+1,y.getMonths()):(11<y.date[1]?(y.date[0]=parseInt(y.date[0])+1,y.date[1]=1):y.date[1]=parseInt(y.date[1])+1,y.getDays())},setToday:function(){var e=(new Date).toISOString().substr(0,10);return y.setValue(e),e},setValue:function(e){var t,n,o,i,a,s=e=e||""+e,r=y.options.value;r!=s&&(s?(y.setLabel(s,y.options),(n=s.split(" "))[1]||(n[1]="00:00:00"),i=n[1].split(":"),n=n[0].split("-"),a=parseInt(n[0]),t=parseInt(n[1]),n=parseInt(n[2]),o=parseInt(i[0]),i=parseInt(i[1]),y.date=[a,t,n,o,i,0],e=y.setLabel(s,y.options),o=O.now(new Date(a,t-1,n),!0),y.options.validRange?(i=!y.options.validRange[0]||o>=y.options.validRange[0],a=!y.options.validRange[1]||o<=y.options.validRange[1],i&&a?(l.classList.remove("jcalendar_warning"),l.title=""):(l.classList.add("jcalendar_warning"),l.title=M.translate("Date outside the valid range"))):(l.classList.remove("jcalendar_warning"),l.title="")):(y.date=null,e="",l.classList.remove("jcalendar_warning"),l.title=""),y.options.value=s,"function"==typeof y.options.onchange&&y.options.onchange(l,s,r),l.value!=e&&(l.value=e,"function"==typeof l.oninput&&l.oninput({type:"input",target:l,value:l.value}))),y.date&&(y.getDays(),"year-month-picker"==y.options.type&&y.getMonths())},getValue:function(){return y.date?y.options.time?H.two(y.date[0])+"-"+H.two(y.date[1])+"-"+H.two(y.date[2])+" "+H.two(y.date[3])+":"+H.two(y.date[4])+":"+H.two(0):H.two(y.date[0])+"-"+H.two(y.date[1])+"-"+H.two(y.date[2])+" "+H.two(0)+":"+H.two(0)+":"+H.two(0):""},update:function(e,t){var n;e.classList.contains("jcalendar-disabled")||((n=i.querySelector(".jcalendar-selected"))&&n.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected"),e.classList.contains("jcalendar-set-month")?(y.date[1]=t,y.date[2]=1):y.date[2]=e.innerText,y.options.time?(y.date[3]=h.value,y.date[4]=f.value):y.close(null,!0)),b()},reset:function(){y.setValue(""),y.date=null,y.close(!1,!1)},getDays:function(){y.options.mode="days";var e=new Date,t=y.date&&H.isNumeric(y.date[0])?y.date[0]:parseInt(e.getFullYear()),n=y.date&&H.isNumeric(y.date[1])?y.date[1]:parseInt(e.getMonth())+1,o=y.date&&H.isNumeric(y.date[2])?y.date[2]:parseInt(e.getDate()),i=y.date&&H.isNumeric(y.date[3])?y.date[3]:parseInt(e.getHours()),a=y.date&&H.isNumeric(y.date[4])?y.date[4]:parseInt(e.getMinutes()),s=(y.date=[t,n,o,i,a,0],x.innerHTML=t,w.innerHTML=y.options.months[n-1],e.getMonth()==n-1&&e.getFullYear()==t),r=e.getDate(),l=(e=new Date(t,n,0,0,0)).getDate(),d=(e=new Date(t,n-1,0,0,0)).getDay()+1,c=(d-=p=y.options.startingDay||0,L.innerHTML="",document.createElement("tr"));c.setAttribute("align","center"),L.appendChild(c);for(var u=0;u<7;u++)(m=document.createElement("td")).classList.add("jcalendar-weekday"),m.innerHTML=y.options.weekdays[p].substr(0,1),c.appendChild(m),6<++p&&(p=0);for(var p=0,h=0,f=0;f<6;f++){(c=document.createElement("tr")).setAttribute("align","center"),c.style.height="34px";for(var m,g,v,u=0;u<7;u++)(m=document.createElement("td")).classList.add("jcalendar-set-day"),d<=p&&p<d+l&&(h++,(m.innerHTML=h)==o&&m.classList.add("jcalendar-selected"),s&&r==h&&(m.style.fontWeight="bold"),v=O.now(new Date(t,n-1,h),!0),y.options.validRange&&(g=!y.options.validRange[0]||v>=y.options.validRange[0],v=!y.options.validRange[1]||v<=y.options.validRange[1],g&&v||m.classList.add("jcalendar-disabled"))),c.appendChild(m),p++;L.appendChild(c)}y.options.time?j.style.display="":j.style.display="none",b()},getMonths:function(){y.options.mode="months";for(var e=y.options.months,t=(y.options.value,new Date),n=parseInt(t.getFullYear()),o=parseInt(t.getMonth())+1,i=y.date&&H.isNumeric(y.date[0])?y.date[0]:n,a=y.date&&H.isNumeric(y.date[1])?y.date[1]:o,s=(x.innerHTML=y.date[0],w.innerHTML=e[a-1],document.createElement("table")),r=(s.setAttribute("width","100%"),null),l=0;l<12;l++){l%4||((r=document.createElement("tr")).setAttribute("align","center"),s.appendChild(r));var d,c,u=document.createElement("td");u.classList.add("jcalendar-set-month"),u.setAttribute("data-value",l+1),u.innerText=e[l],y.options.validRange&&(c=i+"-"+H.two(l+1),d=!y.options.validRange[0]||c>=y.options.validRange[0].substr(0,7),c=!y.options.validRange[1]||c<=y.options.validRange[1].substr(0,7),d&&c||u.classList.add("jcalendar-disabled")),l+1==a&&u.classList.add("jcalendar-selected"),n==i&&l+1==o&&(u.style.fontWeight="bold"),r.appendChild(u)}L.innerHTML='<tr><td colspan="7"></td></tr>',L.children[0].children[0].appendChild(s),b()},getYears:function(){y.options.mode="years";for(var e=new Date,t=e.getFullYear(),n=y.date&&H.isNumeric(y.date[0])?y.date[0]:parseInt(e.getFullYear()),o=[],i=0;i<25;i++)o[i]=parseInt(y.date[0])+(i-12);var a=document.createElement("table");a.setAttribute("width","100%");for(i=0;i<25;i++){i%5||((s=document.createElement("tr")).setAttribute("align","center"),a.appendChild(s));var s,r=document.createElement("td");r.classList.add("jcalendar-set-year"),r.innerText=o[i],n==o[i]&&r.classList.add("jcalendar-selected"),t==o[i]&&(r.style.fontWeight="bold"),s.appendChild(r)}L.innerHTML='<tr><td colspan="7"></td></tr>',L.firstChild.firstChild.appendChild(a),b()},setLabel:function(e,t){return O.getDateString(e,t)},fromFormatted:function(e,t){return O.extractDateFromString(e,t)}},b=function(){var e=i.querySelector(".jcalendar-selected");e&&e.classList.contains("jcalendar-disabled")?(p.setAttribute("disabled","disabled"),h.setAttribute("disabled","disabled"),f.setAttribute("disabled","disabled")):(p.removeAttribute("disabled"),h.removeAttribute("disabled"),f.removeAttribute("disabled")),"function"==typeof y.options.onupdate&&y.options.onupdate(l,y.getValue())},i=null,a=null,s=null,r=null,d=null,x=null,w=null,o=null,L=null,c=null,j=null,u=null,p=null,h=null,f=null;"INPUT"==l.tagName&&l.value&&(e.value=l.value),(a=document.createElement("div")).className="jcalendar-reset",(s=document.createElement("div")).className="jcalendar-confirm",(c=document.createElement("div")).className="jcalendar-controls",c.style.borderBottom="1px solid #ddd",c.appendChild(a),c.appendChild(s),(r=document.createElement("div")).className="jcalendar-container",(d=document.createElement("div")).className="jcalendar-content",r.appendChild(d),"DIV"==l.tagName?(i=l).classList.add("jcalendar-inline"):(d.appendChild(c),(i=document.createElement("div")).className="jcalendar"),i.classList.add("jcalendar-container"),i.appendChild(r);(c=document.createElement("div")).className="jcalendar-table",d.appendChild(c);var m=document.createElement("td"),g=(m.setAttribute("colspan","2"),m.className="jcalendar-prev",(x=document.createElement("span")).className="jcalendar-year",(w=document.createElement("span")).className="jcalendar-month",document.createElement("td")),v=(g.className="jcalendar-header",g.setAttribute("colspan","3"),g.appendChild(w),g.appendChild(x),document.createElement("td")),E=(v.setAttribute("colspan","2"),v.className="jcalendar-next",document.createElement("thead")),C=document.createElement("tr");C.appendChild(m),C.appendChild(g),C.appendChild(v),E.appendChild(C),o=document.createElement("table"),L=document.createElement("tbody"),o.setAttribute("cellpadding","0"),o.setAttribute("cellspacing","0"),o.appendChild(E),o.appendChild(L),c.appendChild(o),(h=document.createElement("select")).className="jcalendar-select",h.onchange=function(){y.date[3]=this.value,"function"==typeof y.options.onupdate&&y.options.onupdate(l,y.getValue())};for(var T=0;T<24;T++)(k=document.createElement("option")).value=T,k.innerHTML=H.two(T),h.appendChild(k);(f=document.createElement("select")).className="jcalendar-select",f.onchange=function(){y.date[4]=this.value,"function"==typeof y.options.onupdate&&y.options.onupdate(l,y.getValue())};for(var k,T=0;T<60;T++)(k=document.createElement("option")).value=T,k.innerHTML=H.two(T),f.appendChild(k);return(m=document.createElement("div")).className="jcalendar-controls",(j=document.createElement("div")).className="jcalendar-time",j.style.maxWidth="140px",j.appendChild(h),j.appendChild(f),(p=document.createElement("button")).setAttribute("type","button"),p.className="jcalendar-update",(u=document.createElement("div")).style.flexGrow="10",u.appendChild(p),m.appendChild(j),"INPUT"==l.tagName&&m.appendChild(u),d.appendChild(m),(g=document.createElement("div")).className="jcalendar-backdrop",i.appendChild(g),l.addEventListener("keyup",n),i.addEventListener("swipeleft",function(e){N.slideLeft(o,0,function(){y.next(),N.slideRight(o,1)}),e.preventDefault(),e.stopPropagation()}),i.addEventListener("swiperight",function(e){N.slideRight(o,0,function(){y.prev(),N.slideLeft(o,1)}),e.preventDefault(),e.stopPropagation()}),"ontouchend"in document.documentElement==!0?(i.addEventListener("touchend",t),l.addEventListener("touchend",y.open)):(i.addEventListener("mouseup",t),l.addEventListener("mouseup",y.open)),O.hasEvents||(O.hasEvents=!0,document.addEventListener("keydown",O.keydown)),y.setOptions(e),"INPUT"==l.tagName?(l.parentNode.insertBefore(i,l.nextSibling),l.setAttribute("autocomplete","off"),l.classList.add("jcalendar-input"),l.value=y.setLabel(y.getValue(),y.options)):(y.getDays(),y.options.time&&(h.value=y.date[3],f.value=y.date[4])),1==y.options.opened&&y.open(),0==y.options.controls&&r.classList.add("jcalendar-hide-controls"),l.change=y.setValue,l.val=function(e){if(void 0===e)return y.getValue();y.setValue(e)},l.calendar=i.calendar=y}C={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]},J.get=function(e){return C[e]||C},J.set=function(e,t){C[e]=t};var C,Z=J;function J(e){return C[e]||C.material}function $(r,e){var t,l={options:{}},n={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(t in n)e&&e.hasOwnProperty(t)?l.options[t]=e[t]:l.options[t]=n[t];r.classList.add("jtabs");var d=null,c=null,u=null;function p(t){l.options.animation&&setTimeout(function(){var e=l.headers.children[t].getBoundingClientRect();"modern"===l.options.palette?(u.style.width=e.width-4+"px",u.style.left=l.headers.children[t].offsetLeft+2+"px"):(u.style.width=e.width+"px",u.style.left=l.headers.children[t].offsetLeft+"px"),"bottom"===l.options.position?u.style.top="0px":u.style.bottom="0px"},50)}function h(e){"function"==typeof l.headers.scrollTo?l.headers.scrollTo({left:e,behavior:"smooth"}):l.headers.scrollLeft=e,e<=1?d.classList.add("disabled"):d.classList.remove("disabled"),e>=l.headers.scrollWidth-l.headers.offsetWidth?c.classList.add("disabled"):c.classList.remove("disabled"),l.headers.scrollWidth<=l.headers.offsetWidth?(d.style.display="none",c.style.display="none"):(d.style.display="",c.style.display="")}if(l.setBorder=p,l.open=function(e){if(l.content.children[e]){for(var t,n,o,i,a=null,s=0;s<l.headers.children.length;s++)l.headers.children[s].classList.contains("jtabs-selected")&&(a=s),l.headers.children[s].classList.remove("jtabs-selected"),l.content.children[s]&&l.content.children[s].classList.remove("jtabs-selected");l.headers.children[e].classList.add("jtabs-selected"),l.content.children[e]&&l.content.children[e].classList.add("jtabs-selected"),a!=e&&"function"==typeof l.options.onchange&&l.content.children[e]&&l.options.onchange(r,l,e,l.headers.children[e],l.content.children[e]),1==l.options.hideHeaders&&l.headers.children.length<3&&0==l.options.allowCreate?l.headers.parentNode.style.display="none":(l.headers.parentNode.style.display="",n=(t=l.headers.children[e].offsetLeft)+l.headers.children[e].offsetWidth,i=(o=l.headers.scrollLeft)+l.headers.offsetWidth,o<=t&&n<=i||h(t-1),p(e))}},l.selectIndex=function(e){e=Array.prototype.indexOf.call(l.headers.children,e);return 0<=e&&l.open(e),e},l.rename=function(e,t){t=t||prompt("New title",l.headers.children[e].innerText),l.headers.children[e].innerText=t,p(l.getActive())},l.create=function(e,t){if("function"==typeof l.options.onbeforecreate){var n=l.options.onbeforecreate(r);if(!1===n)return!1;e=n}n=l.appendElement(e);return"function"==typeof l.options.oncreate&&l.options.oncreate(r,n),p(l.getActive()),n},l.remove=function(e){return l.deleteElement(e)},l.nextNumber=function(){for(var e=0,t=0;t<l.headers.children.length;t++){var n=l.headers.children[t].innerText.match(/[0-9].*/);e<n&&(e=parseInt(n))}return e?e++:e=1,e},l.deleteElement=function(e){var t=l.getActive();if(!l.headers.children[e])return!1;l.headers.removeChild(l.headers.children[e]),l.content.removeChild(l.content.children[e]),t===e?l.open(0):(t=l.getActive()||0,p(t)),"function"==typeof l.options.ondelete&&l.options.ondelete(r,e)},l.appendElement=function(e,t,n,o){if(e=e||prompt("Title?","")){var i=document.createElement("div"),a=document.createElement("div");if(a.innerHTML=e,a.content=i,void 0===o)l.content.appendChild(i),l.headers.insertBefore(a,l.headers.lastChild);else{let e=l.content.children[o];e?l.content.insertBefore(i,e):l.content.appendChild(i),e=l.headers.children[o]||l.headers.lastChild,l.headers.insertBefore(a,e)}return l.options.allowChangePosition&&a.setAttribute("draggable","true"),!1!==n&&l.selectIndex(a),"function"==typeof t&&t(i,a),i}},l.getActive=function(){for(var e=0;e<l.headers.children.length;e++)if(l.headers.children[e].classList.contains("jtabs-selected"))return e;return!1},l.updateContent=function(e,t){"string"==typeof t&&(document.createElement("div").innerHTML=t),l.content.children[e].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected"),l.content.replaceChild(t,l.content.children[e]),p()},l.updatePosition=function(e,t,n,o){t<e?l.content.insertBefore(l.content.children[e],l.content.children[t]):l.content.insertBefore(l.content.children[e],l.content.children[t].nextSibling),!1!==o?l.open(t):t<(o=l.getActive())&&l.setBorder(o),n||"function"!=typeof l.options.onchangeposition||l.options.onchangeposition(l.headers,e,t)},l.move=function(e,t,n,o){t<e?l.headers.insertBefore(l.headers.children[e],l.headers.children[t]):l.headers.insertBefore(l.headers.children[e],l.headers.children[t].nextSibling),l.updatePosition(e,t,n,o)},l.setBorder=p,l.init=function(){r.innerHTML="",l.headers=document.createElement("div"),l.content=document.createElement("div"),l.headers.classList.add("jtabs-headers"),l.content.classList.add("jtabs-content"),l.options.palette?r.classList.add("jtabs-modern"):r.classList.remove("jtabs-modern"),l.options.padding&&(l.content.style.padding=parseInt(l.options.padding)+"px");var e=document.createElement("div"),t=(e.className="jtabs-headers-container",e.appendChild(l.headers),l.options.maxWidth&&(e.style.maxWidth=parseInt(l.options.maxWidth)+"px"),document.createElement("div"));t.className="jtabs-controls",t.setAttribute("draggable","false"),e.appendChild(t),"bottom"==l.options.position?(r.appendChild(l.content),r.appendChild(e)):(r.appendChild(e),r.appendChild(l.content)),1==l.options.allowCreate&&((e=document.createElement("div")).className="jtabs-add",e.onclick=function(){l.create()},t.appendChild(e)),(d=document.createElement("div")).className="jtabs-prev",d.onclick=function(){h(l.headers.scrollLeft-l.headers.offsetWidth)},t.appendChild(d),(c=document.createElement("div")).className="jtabs-next",c.onclick=function(){h(l.headers.scrollLeft+l.headers.offsetWidth)},t.appendChild(c);for(var n,o,i,a,s=0;s<l.options.data.length;s++)n=l.options.data[s].titleElement||document.createElement("div"),l.options.data[s].icon&&(o=document.createElement("div"),(i=document.createElement("i")).classList.add("material-icons"),i.innerHTML=l.options.data[s].icon,o.appendChild(i),n.appendChild(o)),l.options.data[s].title&&(i=document.createTextNode(l.options.data[s].title),n.appendChild(i)),l.options.data[s].width&&(n.style.width=l.options.data[s].width),l.options.data[s].contentElement?a=l.options.data[s].contentElement:(a=document.createElement("div")).innerHTML=l.options.data[s].content,l.headers.appendChild(n),l.content.appendChild(a);(u=document.createElement("div")).className="jtabs-border",l.headers.appendChild(u),l.options.animation&&r.classList.add("jtabs-animation"),l.headers.addEventListener("click",function(e){e=e.target.parentNode.classList.contains("jtabs-headers")?e.target:("I"==e.target.tagName?e.target.parentNode:e.target).parentNode;e=l.selectIndex(e);"function"==typeof l.options.onclick&&l.options.onclick(r,l,e,l.headers.children[e],l.content.children[e])}),l.headers.addEventListener("contextmenu",function(e){l.selectIndex(e.target)}),l.headers.children.length&&l.open(0),h(0),1==l.options.allowChangePosition&&B(l.headers,{direction:1,ondrop:function(e,t,n){l.updatePosition(t,n)}}),"function"==typeof l.options.onload&&l.options.onload(r,l)},r.children[0]&&r.children[0].children.length)for(var o=0;o<r.children[0].children.length;o++){var i=l.options.data&&l.options.data[o]?l.options.data[o]:{};r.children[1]&&r.children[1].children[o]?(i.titleElement=r.children[0].children[o],i.contentElement=r.children[1].children[o]):i.contentElement=r.children[0].children[o],l.options.data[o]=i}var a=!1;if(l.options.data)for(o=0;o<l.options.data.length;o++)l.options.data[o].url&&(S({url:l.options.data[o].url,type:"GET",dataType:"text/html",index:o,success:function(e){l.options.data[this.index].content=e},complete:function(){l.init()}}),a=!0);return a||l.init(),r.tabs=l}function K(i,e){if(i.color)return i.color.setOptions(e,!0);function o(e){return 1===(e=e.toString(16)).length?"0"+e:e}function t(e){return parseInt("0x"+e)}function a(){var e=h.firstChild.getBoundingClientRect();y.width=e.width-14,x()}function n(){function t(e,t,n){1===e&&(t=t-(e=o.getBoundingClientRect()).left,n=n-e.top,(t=t<0?0:t)>e.width&&(t=e.width),(n=n<0?0:n)>e.height&&(n=e.height),i.style.left=t+"px",i.style.top=n+"px",e=b.getImageData(t,n,1,1).data,w=m(e[0],e[1],e[2]))}var o=document.createElement("div"),i=(o.className="jcolor-hsl",document.createElement("div")),e=(i.className="jcolor-point",document.createElement("div"));return e.appendChild(y),e.appendChild(i),o.appendChild(e),o.addEventListener("mousedown",function(e){t(e.buttons,e.clientX,e.clientY)}),o.addEventListener("mousemove",function(e){t(e.buttons,e.clientX,e.clientY)}),o.addEventListener("touchmove",function(e){t(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)}),o}function s(){function e(e){var t=document.createElement("div"),n=(t.className="jcolor-sliders-input-container",document.createElement("label"));n.innerText=e;(e=document.createElement("div")).className="jcolor-sliders-input-subcontainer";var o=document.createElement("input"),i=(o.type="range",o.min=0,o.max=255,o.value=0,t.appendChild(n),e.appendChild(o),document.createElement("div"));return i.innerText=o.value,o.addEventListener("input",function(){i.innerText=o.value}),e.appendChild(i),t.appendChild(e),a.appendChild(t),o}var t=document.createElement("div"),a=(t.className="jcolor-sliders",document.createElement("div")),n=(L=[e("Red"),e("Green"),e("Blue")],t.appendChild(a),document.createElement("div")),o=(n.className="jcolor-sliders-final-color",document.createElement("div"));return o.style.visibility="hidden",o.innerText="a",n.appendChild(o),L.forEach(function(e){e.addEventListener("input",function(){var e;e=m(parseInt(L[0].value),parseInt(L[1].value),parseInt(L[2].value)),o.innerText=e,o.style.color=e,o.style.removeProperty("visibility"),w=e,j()})}),t.appendChild(n),t}var r={type:"color",options:{}},l=null,d=null,c=null,u=null,p=null,h=null,f=null,m=(r.setOptions=function(e,t){var n,o={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(n in(e=e||{})&&!e.palette&&(e.palette=Z()),o)e&&e.hasOwnProperty(n)?r.options[n]=e[n]:void 0!==r.options[n]&&!0!==t||(r.options[n]=o[n]);return u&&(u.innerHTML=r.options.resetLabel),p&&(p.innerHTML=r.options.doneLabel),r.options.palette&&f&&f.updateContent(0,v()),"string"==typeof r.options.value&&(i.value=r.options.value,"INPUT"===i.tagName&&(i.style.color=i.value,i.style.backgroundColor=i.value)),r.options.placeholder?i.setAttribute("placeholder",r.options.placeholder):i.getAttribute("placeholder")&&i.removeAttribute("placeholder"),r},r.select=function(e){var t=l.querySelector(".jcolor-selected");t&&t.classList.remove("jcolor-selected"),r.values[e]&&r.values[e].classList.add("jcolor-selected"),r.options.value=e},r.open=function(){var e,t,n,o;l.classList.contains("jcolor-focus")||(D(r,!0),l.classList.add("jcolor-focus"),r.options.value&&r.select(r.options.value),c.style.marginTop="",c.style.marginLeft="",e=c.getBoundingClientRect(),t=H.getWindowWidth(),n=H.getWindowHeight(),t<800||1==r.options.fullscreen?(c.classList.add("jcolor-fullscreen"),N.slideBottom(c,1),d.style.display="block"):(c.classList.contains("jcolor-fullscreen")&&(c.classList.remove("jcolor-fullscreen"),d.style.display=""),r.options.position?c.style.position="fixed":c.style.position="",e.left+e.width>t&&(c.style.marginLeft=-1*(e.left+e.width-(t-20))+"px"),e.top+e.height>n&&(c.style.marginTop=-1*(e.top+e.height-(n-20))+"px")),"function"==typeof r.options.onopen&&r.options.onopen(i,r),f.setBorder(f.getActive()),r.options.value&&(o=g(r.options.value),L.forEach(function(e,t){e.value=o[t],e.dispatchEvent(new Event("input"))})))},r.close=function(e){return l.classList.contains("jcolor-focus")&&(l.classList.remove("jcolor-focus"),d.style.display="",e||"function"!=typeof r.options.onclose||r.options.onclose(i,r),D(r,!1)),r.options.value},r.setValue=function(e){(e=e||"")!=r.options.value&&(r.options.value=e,w=e,r.select(e),"function"==typeof r.options.onchange&&r.options.onchange(i,e,r),i.value!=r.options.value&&(i.value=r.options.value,"INPUT"===i.tagName&&(i.style.color=i.value,i.style.backgroundColor=i.value),"function"==typeof i.oninput&&i.oninput({type:"input",target:i,value:i.value})),1==r.options.closeOnChange&&r.close())},r.getValue=function(){return r.options.value},function(e,t,n){return"#"+o(e)+o(t)+o(n)}),g=function(e){return[t(e.substr(1,2)),t(e.substr(3,2)),t(e.substr(5,2))]},v=function(){var e=document.createElement("div"),t=(e.className="jcolor-grid",r.values=[],document.createElement("table"));t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var n=0;n<r.options.palette.length;n++){for(var o=document.createElement("tr"),i=0;i<r.options.palette[n].length;i++){var a=document.createElement("td"),s=r.options.palette[n][i];s.length<7&&"#"!==s.substr(0,1)&&(s="#"+s),a.style.backgroundColor=s,a.setAttribute("data-value",s),a.innerHTML="",o.appendChild(a),r.options.value==s&&a.classList.add("jcolor-selected"),r.values[s]=a}t.appendChild(o)}return e.appendChild(t),e},y=document.createElement("canvas"),b=(y.width=200,y.height=160,y.getContext("2d")),x=function(){var e=b.createLinearGradient(0,0,y.width,0);e.addColorStop(0,"rgb(255,0,0)"),e.addColorStop(.15,"rgb(255,0,255)"),e.addColorStop(.33,"rgb(0,0,255)"),e.addColorStop(.49,"rgb(0,255,255)"),e.addColorStop(.67,"rgb(0,255,0)"),e.addColorStop(.84,"rgb(255,255,0)"),e.addColorStop(1,"rgb(255,0,0)"),b.fillStyle=e,b.fillRect(0,0,y.width,y.height),(e=b.createLinearGradient(0,0,0,y.height)).addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(.5,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),b.fillStyle=e,b.fillRect(0,0,y.width,y.height)},w="",L=[],j=function(){if(""!==w)for(var e=0;e<L.length;e++){var t=g(w);t[e]=0;var n=(n="linear-gradient(90deg, rgb(")+t.join(", ")+"), rgb(";t[e]=255,n=n+t.join(", ")+"))",L[e].style.backgroundImage=n}};return r.toHex=function(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}if(e)return/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))&&e.length?"#"+t(e[1])+t(e[2])+t(e[3]):""},r.setOptions(e),"INPUT"==i.tagName&&(i.classList.add("jcolor-input"),i.readOnly=!0),(l=document.createElement("div")).className="jcolor",(d=document.createElement("div")).className="jcolor-backdrop",l.appendChild(d),(c=document.createElement("div")).className="jcolor-content",(e=document.createElement("div")).className="jcolor-controls",c.appendChild(e),(u=document.createElement("div")).className="jcolor-reset",u.innerHTML=r.options.resetLabel,e.appendChild(u),(p=document.createElement("div")).className="jcolor-close",p.innerHTML=r.options.doneLabel,e.appendChild(p),h=document.createElement("div"),c.appendChild(h),f=$(h,{animation:!0,data:[{title:"Grid",contentElement:v()},{title:"Spectrum",contentElement:n()},{title:"Sliders",contentElement:s()}],onchange:function(e,t,n){var o,i;1===n?a():(o=""!==w?w:r.getValue(),2===n&&o&&(i=g(o),L.forEach(function(e,t){e.value=i[t],e.dispatchEvent(new Event("input"))})))},palette:"modern"}),l.appendChild(c),"INPUT"==i.tagName?i.parentNode.insertBefore(l,i.nextSibling):i.appendChild(l),l.addEventListener("click",function(e){var t;"TD"==e.target.tagName?(t=e.target.getAttribute("data-value"))&&r.setValue(t):e.target.classList.contains("jcolor-reset")?(r.setValue(""),r.close()):e.target.classList.contains("jcolor-close")?(0<f.getActive()&&r.setValue(w),r.close()):e.target.classList.contains("jcolor-backdrop")?r.close():r.open()}),i.addEventListener("mouseup",function(e){r.open()}),window.addEventListener("resize",function(){l.classList.contains("jcolor-focus")&&1==f.getActive()&&a()}),1==r.options.opened&&r.open(),i.change=r.setValue,i.val=function(e){if(void 0===e)return r.getValue();r.setValue(e)},i.color=r,l.color=r}var Q=T;function T(a,e){var t,s={type:"contextmenu",options:{}},n={items:null,onclick:null};for(t in n)e&&e.hasOwnProperty(t)?s.options[t]=e[t]:s.options[t]=n[t];return a.classList.add("jcontextmenu"),s.open=function(e,t){var n,o;t&&(s.options.items=t,s.create(t)),T.current&&T.current.close(),D(s,!0),a.classList.add("jcontextmenu-focus"),((T.current=s).options.items&&0<s.options.items.length||a.children.length)&&(t=e.target?e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(n=e.clientX,e.clientY):(n=e.x,e.y),e=a.getBoundingClientRect(),window.innerHeight<t+e.height?(o=t-e.height,a.style.top=(o=o<0?0:o)+"px"):a.style.top=t+"px",window.innerWidth<n+e.width?0<n-e.width?a.style.left=n-e.width+"px":a.style.left="10px":a.style.left=n+"px")},s.isOpened=function(){return!!a.classList.contains("jcontextmenu-focus")},s.close=function(){a.classList.contains("jcontextmenu-focus")&&a.classList.remove("jcontextmenu-focus"),D(s,!1)},s.create=function(e){a.innerHTML="";(t=document.createElement("div")).classList.add("header"),t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}),(n=document.createElement("a")).classList.add("title"),n.innerHTML=M.translate("Menu"),t.appendChild(n),(n=document.createElement("a")).classList.add("close"),n.innerHTML=M.translate("close"),n.addEventListener("click",function(e){s.close()}),t.appendChild(n);var t,n=t;a.appendChild(n);for(var o=0;o<e.length;o++){var i=function e(t){if(!t.type||"line"!=t.type&&"divisor"!=t.type){var n=document.createElement("div"),o=document.createElement("a");if(o.innerHTML=t.title,t.tooltip&&n.setAttribute("title",t.tooltip),t.icon&&n.setAttribute("data-icon",t.icon),t.id&&(n.id=t.id),t.disabled?n.className="jcontextmenu-disabled":t.onclick&&(n.method=t.onclick,n.addEventListener("mousedown",function(e){e.preventDefault()}),n.addEventListener("mouseup",function(e){this.method(this,e)})),n.appendChild(o),t.submenu){for(var o=document.createElement("span"),i=(o.innerHTML="&#9658;",n.appendChild(o),n.classList.add("jcontexthassubmenu"),document.createElement("div")),a=(i.classList.add("jcontextmenu"),i.setAttribute("tabindex","900"),t.submenu),s=0;s<a.length;s++){var r=e(a[s]);i.appendChild(r)}n.appendChild(i)}else t.shortcut&&((o=document.createElement("span")).innerHTML=t.shortcut,n.appendChild(o))}else var n=document.createElement("hr");return n}(e[o]);a.appendChild(i)}},"function"==typeof s.options.onclick&&a.addEventListener("click",function(e){s.options.onclick(s,e)}),s.options.items&&s.create(s.options.items),window.addEventListener("mousewheel",function(){s.close()}),a.contextmenu=s}k.keydown=function(e){var t=null;if(t=k.current)if(13==e.which||9==e.which)t.header.value&&null==t.currentIndex&&t.options.newOptions?t.add():(null==t.currentIndex&&1==t.options.autocomplete&&""!=t.header.value&&t.find(t.header.value),t.selectIndex(t.currentIndex));else if(38==e.which)null==t.currentIndex?t.first():0<t.currentIndex&&t.prev(),e.preventDefault();else if(40==e.which)null==t.currentIndex?t.first():t.currentIndex+1<t.items.length&&t.next(),e.preventDefault();else if(36==e.which)t.first(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(35==e.which)t.last(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(27==e.which)t.close();else if(33==e.which){if(null==t.currentIndex)t.first();else if(0<t.currentIndex)for(var n=0;n<7;n++)t.prev();e.preventDefault()}else if(34==e.which){if(null==t.currentIndex)t.first();else if(t.currentIndex+1<t.items.length)for(n=0;n<7;n++)t.next();e.preventDefault()}},k.mouseup=function(e){var t=H.findElement(e.target,"jdropdown");if(t){var n,o=t.dropdown;if(e.target.classList.contains("jdropdown-header"))t.classList.contains("jdropdown-focus")&&t.classList.contains("jdropdown-default")?(t=t.getBoundingClientRect(),e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(n=e.clientX,e.clientY),t.width-(n-t.left)<30?e.target.classList.contains("jdropdown-add")?o.add():o.close():0==o.options.autocomplete&&o.close()):o.open();else if(e.target.classList.contains("jdropdown-group-name")){var i=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var a=0;a<i.length;a++)"none"!=i[a].style.display&&o.selectItem(i[a])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?o.selectItem(e.target):e.target.classList.contains("jdropdown-image")||e.target.classList.contains("jdropdown-description")?o.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-title")?o.selectItem(e.target.parentNode.parentNode):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&o.close()}},k.extractFromDom=function(e,i){var a=e;if(i=i||{},!e.getAttribute("multiple")||i&&null!=i.multiple||(i.multiple=!0),!e.getAttribute("placeholder")||i&&null!=i.placeholder||(i.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||i&&null!=i.autocomplete||(i.autocomplete=!0),i&&null!=i.width||(i.width=e.offsetWidth),!e.value||i&&null!=i.value||(i.value=e.value),!i||null==i.data){i.data=[];for(var t=0;t<e.children.length;t++)if("OPTGROUP"==e.children[t].tagName)for(var n=0;n<e.children[t].children.length;n++)i.data.push({value:e.children[t].children[n].value,text:e.children[t].children[n].textContent,group:e.children[t].getAttribute("label")});else i.data.push({value:e.children[t].value,text:e.children[t].textContent})}i&&null!=i.onchange||(i.onchange=function(e,t,n,o){1==i.multiple?obj.items[t].classList.contains("jdropdown-selected")?a.options[t].setAttribute("selected","selected"):a.options[t].removeAttribute("selected"):a.value=o});var o=document.createElement("div");return e.parentNode.insertBefore(o,e),e.style.display="none",{el:e=o,options:i}};var ee=k;function k(i,e){if(i.dropdown)return i.dropdown.setOptions(e,!0);function a(e,t){e&&e.length&&(!1!==p.options.sortResults&&("function"==typeof p.options.sortResults?e.sort(p.options.sortResults):e.sort(n)),p.setData(e)),"function"==typeof p.options.onload&&p.options.onload(i,p,e,t),t&&o(t),null==t&&(p.options.value=""),i.value=p.options.value,1==p.options.opened&&p.open()}function n(e,t){var n,o;return"string"==typeof e?n=e:e.text?n=e.text:e.name&&(n=e.name),"string"==typeof t?o=t:t.text?o=t.text:t.name&&(o=t.name),"string"==typeof n||"string"==typeof o?(n="string"!=typeof n?""+n:n).localeCompare(o="string"!=typeof o?""+o:o):n-o}function o(e){if(d(),null!==e)if(e){Array.isArray(e)||(e=(""+e).split(";"));for(var t=0;t<e.length;t++)p.value[e[t]]=""}else void 0!==p.value[""]&&(p.value[""]="");for(t=0;t<p.items.length;t++)void 0!==p.value[c(t)]&&(p.items[t].element&&p.items[t].element.classList.add("jdropdown-selected"),p.items[t].selected=!0,p.value[c(t)]=u(t));p.options.value=Object.keys(p.value).join(";"),p.header.value=p.getText()}function s(){return Object.keys(p.value)}function r(){for(var e=[],t=Object.keys(p.value),n=0;n<t.length;n++)e.push(p.value[t[n]]);return e}function l(e){i.value!=p.options.value&&(i.value=p.options.value,"function"==typeof i.oninput&&i.oninput({type:"input",target:i,value:i.value})),"function"==typeof p.options.onchange&&p.options.onchange(i,p,e,p.options.value)}var t,p={type:"dropdown",options:{}},d=function(){p.value={};for(var e=0;e<p.items.length;e++)1==p.items[e].selected&&(p.items[e].element&&p.items[e].element.classList.remove("jdropdown-selected"),p.items[e].selected=null);p.options.value="",i.value=""},c=function(e,t){var n;return n=p.options.format?"id":"value",p.items[e]?void 0!==t?p.items[e].data[n]=t:p.items[e].data[n]:""},u=function(e,t){var n;return n=p.options.format?"name":"text",p.items[e]?void 0!==t?p.items[e].data[n]=t:p.items[e].data[n]:""},h=(p.setOptions=function(e,t){e=e||{};var n,o={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,onsearch:null,onbeforesearch:null,sortResults:!1,autofocus:!1};for(n in o)e&&e.hasOwnProperty(n)?p.options[n]=e[n]:void 0!==p.options[n]&&!0!==t||(p.options[n]=o[n]);return 1!=p.options.remoteSearch&&"searchbar"!==p.options.type||(p.options.autocomplete=!0),1==p.options.newOptions?p.header.classList.add("jdropdown-add"):p.header.classList.remove("jdropdown-add"),1==p.options.autocomplete?p.header.removeAttribute("readonly"):p.header.setAttribute("readonly","readonly"),p.options.placeholder?p.header.setAttribute("placeholder",p.options.placeholder):p.header.removeAttribute("placeholder"),i.classList.remove("jdropdown-searchbar"),i.classList.remove("jdropdown-picker"),i.classList.remove("jdropdown-list"),"searchbar"==p.options.type?i.classList.add("jdropdown-searchbar"):"list"==p.options.type?i.classList.add("jdropdown-list"):"picker"==p.options.type?i.classList.add("jdropdown-picker"):H.getWindowWidth()<800?p.options.autocomplete?(i.classList.add("jdropdown-searchbar"),p.options.type="searchbar"):(i.classList.add("jdropdown-picker"),p.options.type="picker"):(p.options.width?(i.style.width=p.options.width,i.style.minWidth=p.options.width):(i.style.removeProperty("width"),i.style.removeProperty("min-width")),i.classList.add("jdropdown-default"),p.options.type="default"),"searchbar"==p.options.type?h.appendChild(g):f.insertBefore(g,f.firstChild),p.options.url&&!e.data?S({url:p.options.url,method:"GET",dataType:"json",success:function(e){e&&a(e,p.options.value)}}):a(p.options.data,p.options.value),p},null),f=null,m=null,g=null,v=null,y=null,b=null;return p.getUrl=function(){return p.options.url},p.setUrl=function(e,t){p.options.url=e,S({url:p.options.url,method:"GET",dataType:"json",success:function(e){p.setData(e),"function"==typeof t&&t(p)}})},p.setId=function(e,t){var n;n=p.options.format?"id":"value","object"==typeof e?e[n]=t:p.items[e].data[n]=t},p.add=function(e,t){if(!e){var n=1==p.options.autocomplete?p.header.value:"";if(!(e=prompt(M.translate("Add A New Option"),n)))return!1}if(t=t||H.guid(),n=p.options.format?{id:t,name:e}:{value:t,text:e},"function"==typeof p.options.onbeforeinsert){t=p.options.onbeforeinsert(p,n);if(!1===t)return!1;t&&(n=t)}p.options.data.push(n);e=p.createItem(n);return m.appendChild(e.element),"function"==typeof p.options.oninsert&&p.options.oninsert(p,n,e),"none"==m.style.display&&(m.style.display=""),p.results&&p.results.push(e),n},p.createItem=function(e,t,n){p.options.format?(e.id||void 0===e.value||(e.id=e.value),e.name||void 0===e.text||(e.name=e.text)):(e.value||void 0===e.id||(e.value=e.id),e.text||void 0===e.name||(e.text=e.name));var o={},i=(o.element=document.createElement("div"),o.element.className="jdropdown-item",o.element.indexValue=p.items.length,o.data=e,t&&(o.group=t),e.id&&o.element.setAttribute("id",e.id),1==e.disabled&&o.element.setAttribute("data-disabled",!0),e.tooltip&&o.element.setAttribute("title",e.tooltip),e.image?((t=document.createElement("img")).className="jdropdown-image",t.src=e.image,e.title||t.classList.add("jdropdown-image-small"),o.element.appendChild(t)):e.icon?((t=document.createElement("span")).className="jdropdown-icon material-icons",t.innerText=e.icon,e.title||t.classList.add("jdropdown-icon-small"),e.color&&(t.style.color=e.color),o.element.appendChild(t)):e.color&&((t=document.createElement("div")).className="jdropdown-color",t.style.backgroundColor=e.color,o.element.appendChild(t)),t=p.options.format?e.name:e.text,document.createElement("div"));return i.className="jdropdown-description",i.textContent=t||"&nbsp;",e.title&&((t=document.createElement("div")).className="jdropdown-title",t.innerText=e.title,i.appendChild(t)),t=p.options.format?e.id:e.value,p.value[t]&&(o.element.classList.add("jdropdown-selected"),o.selected=!0),p.items.push(o),o.element.appendChild(i),o},p.appendData=function(e){if(e.length){for(var t=[],n=[],o=0;o<e.length;o++)e[o].group?(n[e[o].group]||(n[e[o].group]=[]),n[e[o].group].push(o)):t.push(o);var i=0,a=Object.keys(n);if(0<a.length)for(o=0;o<a.length;o++){var s=document.createElement("div"),r=(s.className="jdropdown-group",document.createElement("div")),l=(r.className="jdropdown-group-name",r.textContent=a[o],document.createElement("i")),d=(l.className="jdropdown-group-arrow jdropdown-group-arrow-down",r.appendChild(l),document.createElement("div"));d.className="jdropdown-group-items";for(var c=0;c<n[a[o]].length;c++){var u=p.createItem(e[n[a[o]][c]],s,a[o]);(0==p.options.lazyLoading||i<200)&&(d.appendChild(u.element),i++)}s.appendChild(r),s.appendChild(d),p.groups.push(s),0<d.children.length&&m.appendChild(s)}if(t.length)for(o=0;o<t.length;o++){u=p.createItem(e[t[o]]);(0==p.options.lazyLoading||i<200)&&(m.appendChild(u.element),i++)}}},p.setData=function(e){if(d(),m.textContent="",p.header.value="",p.items=[],e&&e.length){for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(p.options.format?e[t]={id:e[t],name:e[t]}:e[t]={value:e[t],text:e[t]});p.appendData(e),p.options.data=e}else p.options.data=[];p.close()},p.getData=function(){return p.options.data},p.getPosition=function(e){for(var t=0;t<p.items.length;t++)if(c(t)==e)return t;return!1},p.getText=function(e){var t=r();return e?t:t.join("; ")},p.getValue=function(e){var t=s();return e?t:t.join(";")},p.setValue=function(e){var t=p.getValue();t!==(e=Array.isArray(e)?e.join(";"):e)&&(o(e),l(t))},p.resetSelected=function(){p.setValue(null)},p.selectIndex=function(e,t){e=parseInt(e);p.items&&p.items[e]&&(!0===t||!0!==p.items[e].data.disabled)&&(p.setCursor(e,!1),p.options.multiple?(t=p.options.value,p.items[e].selected?(p.items[e].element.classList.remove("jdropdown-selected"),p.items[e].selected=!1,delete p.value[c(e)]):(p.items[e].element.classList.add("jdropdown-selected"),p.items[e].selected=!0,p.value[c(e)]=u(e)),p.options.value=Object.keys(p.value).join(";"),0==p.options.autocomplete&&(p.header.value=r().join("; ")),l(t)):(p.items[e].selected?p.setValue(null):p.setValue(c(e)),p.close()))},p.selectItem=function(e){p.selectIndex(e.indexValue)},p.find=function(t){if(p.search==t.trim())return!1;if(p.search=t,p.setCursor(),p.groups.length)for(var e=0;e<p.groups.length;e++)p.groups[e].lastChild.textContent="";if(m.textContent="",1==p.options.remoteSearch){p.results=null;let e={url:p.options.url,method:"GET",data:{q:t},dataType:"json",success:function(e){p.items=[];var t=Object.keys(p.value);if(t.length)for(var n=0;n<t.length;n++)!function(e,t){for(var n=0;n<t.length;n++)if(p.options.format){if(t[n].id==e)return!0}else if(t[n].value==e)return!0;return!1}(t[n],e)&&(p.options.format?e.unshift({id:t[n],name:p.value[t[n]]}):e.unshift({value:t[n],text:p.value[t[n]]}));p.appendData(e),e.length?m.style.display="":m.style.display="none","function"==typeof p.options.onsearch&&p.options.onsearch(p,e)}};if("function"==typeof p.options.onbeforesearch){var n=p.options.onbeforesearch(p,e);if(!1===n)return;"object"==typeof n&&(e=n)}S(e)}else{t=new RegExp(t,"gi");for(var o=[],e=0;e<p.items.length;e++){var i=u(e),a=p.items[e].data.title||"",s=p.items[e].data.group||"",r=(r=p.items[e].data.synonym||"")&&r.join(" ");(null==t||1==p.items[e].selected||i.match(t)||a.match(t)||s.match(t)||r.match(t))&&o.push(p.items[e])}if(o.length){m.style.display="";var l=(p.results=o).length||0;1==p.options.lazyLoading&&200<l&&(l=200);for(e=0;e<l;e++)p.results[e].group?(p.results[e].group.parentNode||m.appendChild(p.results[e].group),p.results[e].group.lastChild.appendChild(p.results[e].element)):m.appendChild(p.results[e].element)}else m.style.display="none",p.results=null}1==p.options.autofocus&&p.first()},p.open=function(){var e,t;i.classList.contains("jdropdown-focus")||(D(k.current=p,!0),i.classList.add("jdropdown-focus"),H.getWindowWidth()<800&&(null!=p.options.type&&"picker"!=p.options.type||N.slideBottom(f,1)),1==p.options.autocomplete&&(p.header.value=p.search,p.header.focus()),(e=s())[0]&&!1!==(e=p.getPosition(e[0]))&&p.setCursor(e),p.options.type&&"default"!=p.options.type||(e=i.getBoundingClientRect(),t=f.getBoundingClientRect(),p.options.position?(f.style.position="fixed",window.innerHeight<e.bottom+t.height?(f.style.top="",f.style.bottom=window.innerHeight-e.top+1+"px"):(f.style.top=e.bottom+"px",f.style.bottom=""),f.style.left=e.left+"px"):window.innerHeight<e.bottom+t.height?(f.style.top="",f.style.bottom=e.height+1+"px"):(f.style.top="",f.style.bottom=""),f.style.minWidth=e.width+"px",p.options.maxWidth&&(f.style.maxWidth=p.options.maxWidth),p.items.length||1!=p.options.autocomplete?m.style.display="":m.style.display="none")),"function"==typeof p.options.onopen&&p.options.onopen(i)},p.close=function(e){return i.classList.contains("jdropdown-focus")&&(p.header.value=p.getText(),p.setCursor(),e||"function"!=typeof p.options.onclose||p.options.onclose(i),p.header.blur&&p.header.blur(),i.classList.remove("jdropdown-focus"),D(p,!1),k.current=null),p.getValue()},p.setCursor=function(e,t){null!=p.currentIndex&&p.items&&p.items[p.currentIndex]&&p.items[p.currentIndex].element.classList.remove("jdropdown-cursor"),null==e?p.currentIndex=null:(e=parseInt(e),p.items[e].element.parentNode&&(p.items[e].element.classList.add("jdropdown-cursor"),p.currentIndex=e,!1!==t&&p.items[p.currentIndex].element&&(m.scrollTop,e=p.items[p.currentIndex].element,m.scrollTop=e.offsetTop-e.scrollTop+e.clientTop-95)))},p.resetCursor=p.setCursor,p.updateCursor=p.setCursor,p.reset=function(){p.setCursor(),p.setValue(null)},p.first=function(){!0===p.options.lazyLoading&&p.loadFirst();var e=m.querySelectorAll(".jdropdown-item");e.length&&(e=e[0].indexValue,p.setCursor(e))},p.last=function(){!0===p.options.lazyLoading&&p.loadLast();var e=m.querySelectorAll(".jdropdown-item");e.length&&(e=e[e.length-1].indexValue,p.setCursor(e))},p.next=function(e){var t,n,o=null;if(e){if(1==e.length){var i,a=p.currentIndex||-1,s=(e=e.toLowerCase(),null),r=m.querySelectorAll(".jdropdown-item");if(r.length){for(var l=0;l<r.length;l++)if(r[l].indexValue>a&&(i=p.items[r[l].indexValue])&&(s=i.element.innerText[0])&&e==(s=s.toLowerCase())){o=r[l].indexValue;break}p.setCursor(o)}}}else null==p.currentIndex||null==p.currentIndex?p.first():((n=(t=p.items[p.currentIndex].element).nextElementSibling)?o=(n=n.classList.contains("jdropdown-group")?n.lastChild.firstChild:n).indexValue:t.parentNode.classList.contains("jdropdown-group-items")&&((n=t.parentNode.parentNode.nextElementSibling)&&(n.classList.contains("jdropdown-group")?n=n.lastChild.firstChild:n.classList.contains("jdropdown-item")?o=n.indexValue:n=null),n&&(o=n.indexValue)),null!==o&&p.setCursor(o))},p.prev=function(){var e,t,n=null;null===p.currentIndex?p.first():(t=(e=p.items[p.currentIndex].element).previousElementSibling)?n=(t=t.classList.contains("jdropdown-group")?t.lastChild.lastChild:t).indexValue:e.parentNode.classList.contains("jdropdown-group-items")&&((t=e.parentNode.parentNode.previousElementSibling)&&(t.classList.contains("jdropdown-group")?t=t.lastChild.lastChild:t.classList.contains("jdropdown-item")?n=t.indexValue:t=null),t&&(n=t.indexValue)),null!==n&&p.setCursor(n)},p.loadFirst=function(){var e,t=(e=p.results||p.items).length||0;1==p.options.lazyLoading&&200<t&&(t=200),m.textContent="";for(var n=0;n<t;n++)e[n].group?(e[n].group.parentNode||m.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):m.appendChild(e[n].element);m.scrollTop=0},p.loadLast=function(){var e,t=(e=p.results||p.items).length;if(200<t){t-=200,m.textContent="";for(var n=t;n<e.length;n++)e[n].group?(e[n].group.parentNode||m.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):m.appendChild(e[n].element);m.scrollTop=m.scrollHeight}},p.loadUp=function(){var e,t=!1;e=p.results||p.items;var n=m.querySelectorAll(".jdropdown-item")[0].indexValue,n=p.items[n],o=e.indexOf(n)-1;if(0<o){for(var i=0;0<o&&e[o]&&i<200;)e[o].group?(e[o].group.parentNode||m.insertBefore(e[o].group,m.firstChild),e[o].group.lastChild.insertBefore(e[o].element,e[o].group.lastChild.firstChild)):m.insertBefore(e[o].element,m.firstChild),o--,i++;t=!0}return t},p.loadDown=function(){var e,t=!1,n=(e=p.results||p.items,m.querySelectorAll(".jdropdown-item")),n=n[n.length-1].indexValue,n=p.items[n],o=e.indexOf(n)+1;if(o<e.length){for(var i=0;o<e.length&&e[o]&&i<200;)e[o].group?(e[o].group.parentNode||m.appendChild(e[o].group),e[o].group.lastChild.appendChild(e[o].element)):m.appendChild(e[o].element),o++,i++;t=!0}return t},e=e||{},"SELECT"==i.tagName&&(t=k.extractFromDom(i,e),i=t.el,e=t.options),!e.placeholder&&i.getAttribute("placeholder")&&(e.placeholder=i.getAttribute("placeholder")),p.value={},p.items=[],p.groups=[],p.search="",p.results=null,i.classList.add("jdropdown"),(h=document.createElement("div")).className="jdropdown-container-header",p.header=document.createElement("input"),p.header.className="jdropdown-header jss_object",p.header.type="text",p.header.setAttribute("autocomplete","off"),p.header.onfocus=function(){"function"==typeof p.options.onfocus&&p.options.onfocus(i)},p.header.onblur=function(){"function"==typeof p.options.onblur&&p.options.onblur(i)},p.header.onkeyup=function(e){1!=p.options.autocomplete||b?p.options.autocomplete||p.next(e.key):(p.search!=p.header.value.trim()&&(b=setTimeout(function(){p.find(p.header.value.trim()),b=null},400)),i.classList.contains("jdropdown-focus")||p.open())},k.hasEvents||(k.hasEvents=!0,document.addEventListener("keydown",k.keydown)),(f=document.createElement("div")).className="jdropdown-container",(m=document.createElement("div")).className="jdropdown-content",(g=document.createElement("div")).className="jdropdown-close",g.textContent="Done",(v=document.createElement("div")).className="jdropdown-reset",v.textContent="x",v.onclick=function(){p.reset(),p.close()},(y=document.createElement("div")).className="jdropdown-backdrop",h.appendChild(p.header),f.appendChild(m),i.appendChild(h),i.appendChild(f),i.appendChild(y),p.setOptions(e),"ontouchsend"in document.documentElement==!0?i.addEventListener("touchsend",k.mouseup):i.addEventListener("mouseup",k.mouseup),1==p.options.lazyLoading&&z(m,{loadUp:p.loadUp,loadDown:p.loadDown}),m.onwheel=function(e){e.stopPropagation()},i.change=p.setValue,i.val=function(e){if(void 0===e)return p.getValue(!!p.options.multiple);p.setValue(e)},i.dropdown=p}function te(i,e){if(i.picker)return i.picker.setOptions(e,!0);function l(e){return e instanceof Element||e instanceof HTMLDocument}var d={type:"picker",options:{}},c=null,u=null;d.setOptions=function(e,t){var n,o={value:0,data:null,render:null,onchange:null,onmouseover:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,bottom:!1,content:!1,columns:null,grid:null,height:null};for(n in e&&e.options&&(e.data=e.options),o)e&&e.hasOwnProperty(n)?d.options[n]=e[n]:void 0!==d.options[n]&&!0!==t||(d.options[n]=o[n]);!1===d.options.header?c.style.display="none":c.style.display="",d.options.width?c.style.width=parseInt(d.options.width)+"px":c.style.width="",d.options.height?(u.style.maxHeight=d.options.height+"px",u.style.overflow="scroll"):u.style.overflow="",0<d.options.columns&&(d.options.grid?(u.classList.add("jpicker-grid"),u.style.gridTemplateColumns="repeat("+d.options.grid+", 1fr)"):(u.classList.add("jpicker-columns"),u.style.width=d.options.width||36*d.options.columns+"px")),isNaN(parseInt(d.options.value))&&(d.options.value=0),u.innerHTML="";for(var i=Object.keys(d.options.data),a=0;a<i.length;a++){var s=document.createElement("div"),r=(s.classList.add("jpicker-item"),s.k=i[a],s.v=d.options.data[i[a]],d.getLabel(i[a],s));l(r)?s.appendChild(r):s.innerHTML=r,u.appendChild(s)}return d.setValue(d.options.value),d},d.getValue=function(){return d.options.value},d.setValue=function(e,t){var n;d.setLabel(e),d.options.value=String(e),i.value!=d.options.value&&(i.value=d.options.value,"function"==typeof i.oninput&&i.oninput({type:"input",target:i,value:i.value})),u.children[e]&&"generic"!==u.children[e].getAttribute("type")&&d.close(),t&&"function"==typeof d.options.onchange&&(n=d.options.data[e],d.options.onchange(i,d,n,n,e,t))},d.getLabel=function(e,t){e=d.options.data[e]||null;return e="function"==typeof d.options.render?d.options.render(e,t):e},d.setLabel=function(e){e=d.options.content?'<i class="material-icons">'+d.options.content+"</i>":d.getLabel(e,null);l(e)?(c.innerHTML="",c.appendChild(e)):c.innerHTML=e},d.open=function(){var e,t,n,o;i.classList.contains("jpicker-focus")||(D(d,!0),i.classList.add("jpicker-focus"),i.focus(),e=o=0,u.style.marginLeft="",t=c.getBoundingClientRect(),n=u.getBoundingClientRect(),o=window.innerHeight<t.bottom+n.height||d.options.bottom?-1*(n.height+4):t.height+4,!0===d.options.right&&(e=-1*n.width+t.width),n.left+e<0&&(e=e+n.left+10),n.left+n.width>window.innerWidth&&(e=-1*(10+n.left+n.width-window.innerWidth)),u.style.marginTop=parseInt(o)+"px",u.style.marginLeft=parseInt(e)+"px","function"==typeof d.options.onopen&&d.options.onopen(i,d))},d.close=function(){i.classList.contains("jpicker-focus")&&(i.classList.remove("jpicker-focus"),D(d,!1),"function"==typeof d.options.onclose&&d.options.onclose(i,d))};return i.classList.add("jpicker"),i.setAttribute("tabindex","900"),i.onmousedown=function(e){i.classList.contains("jpicker-focus")||d.open()},(c=document.createElement("div")).classList.add("jpicker-header"),(u=document.createElement("div")).classList.add("jpicker-content"),u.onclick=function(e){var t=H.findElement(e.target,"jpicker-item");t&&t.parentNode===u&&d.setValue(t.k,e)},i.appendChild(c),i.appendChild(u),i.value=e.value||0,d.setOptions(e),"function"==typeof d.options.onload&&d.options.onload(i,d),i.change=d.setValue,i.val=function(e){if(void 0===e)return d.getValue();d.setValue(e)},i.picker=d}function ne(l,e){var t,d={type:"toolbar",options:{}},n={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(t in n)e&&e.hasOwnProperty(t)?d.options[t]=e[t]:d.options[t]=n[t];!l&&e.app&&e.app.el&&(l=document.createElement("div"),e.app.el.appendChild(l));var o=document.createElement("div"),i=(o.classList.add("jtoolbar-item"),o.classList.add("jtoolbar-arrow"),document.createElement("div")),c=(i.classList.add("jtoolbar-floating"),o.appendChild(i),d.selectItem=function(e){for(var t=c.children,n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")},d.hide=function(){N.slideBottom(l,0,function(){l.style.display="none"})},d.show=function(){l.style.display="",N.slideBottom(l,1)},d.get=function(){return l},d.setBadge=function(e,t){c.children[e].children[1].firstChild.innerHTML=t},d.destroy=function(){toolbar.remove(),l.innerHTML=""},d.update=function(e,t){for(var n=0;n<c.children.length;n++)"function"==typeof(o=c.children[n]).updateState&&o.updateState(l,d,o,e,t);for(var o,n=0;n<i.children.length;n++)"function"==typeof(o=i.children[n]).updateState&&o.updateState(l,d,o,e,t)},d.create=function(e){c.innerHTML="";for(var t=0;t<e.length;t++){var n=document.createElement("div");if(n.classList.add("jtoolbar-item"),e[t].width&&(n.style.width=parseInt(e[t].width)+"px"),e[t].k&&(n.k=e[t].k),e[t].tooltip&&n.setAttribute("title",e[t].tooltip),e[t].id&&n.setAttribute("id",e[t].id),e[t].updateState&&(n.updateState=e[t].updateState),e[t].active&&n.classList.add("jtoolbar-active"),e[t].disabled&&n.classList.add("jtoolbar-disabled"),"select"==e[t].type||"dropdown"==e[t].type)te(n,e[t]);else if("divisor"==e[t].type)n.classList.add("jtoolbar-divisor");else if("label"==e[t].type)n.classList.add("jtoolbar-label"),n.innerHTML=e[t].content;else{var o,i,a=document.createElement("i");if(void 0===e[t].class)a.classList.add("material-icons");else for(var s=e[t].class.split(" "),r=0;r<s.length;r++)a.classList.add(s[r]);a.innerHTML=e[t].content||"",n.appendChild(a),1==d.options.badge&&((o=document.createElement("div")).classList.add("jbadge"),(i=document.createElement("div")).innerHTML=e[t].badge||"",o.appendChild(i),n.appendChild(o)),e[t].title&&(1==d.options.title?((i=document.createElement("span")).innerHTML=e[t].title,n.appendChild(i)):n.setAttribute("title",e[t].title)),d.options.app&&e[t].route&&(n.route=e[t].route,n.onclick=function(){d.options.app.pages(this.route)},d.options.app.pages(e[t].route,{toolbarItem:n,closed:!0})),"function"==typeof e[t].render&&e[t].render(n,e[t])}e[t].onclick&&(n.onclick=e[t].onclick.bind(e[t],l,d,n)),c.appendChild(n)}setTimeout(function(){d.refresh()},0)},d.open=function(){o.classList.add("jtoolbar-arrow-selected");l.getBoundingClientRect();i.getBoundingClientRect().bottom>window.innerHeight||d.options.bottom?i.style.bottom="0":i.style.removeProperty("bottom"),i.style.right="0",o.children[0].focus(),D(d,!0)},d.close=function(){o.classList.remove("jtoolbar-arrow-selected"),D(d,!1)},d.refresh=function(){if(1==d.options.responsive){var e=l.parentNode.getBoundingClientRect(),t=(d.options.maxWidth||(d.options.maxWidth=e.width),parseInt(d.options.maxWidth));for(o.parentNode&&o.parentNode.removeChild(o);i.firstChild;)c.appendChild(i.firstChild);if(t<c.offsetWidth)for(t-=50;c.lastChild&&t<c.offsetWidth;)i.insertBefore(c.lastChild,i.firstChild);0<i.children.length&&c.appendChild(o)}},d.setReadonly=function(e){l.classList[e=e?"add":"remove"]("jtoolbar-disabled")},l.onclick=function(e){var t=H.findElement(e.target,"jtoolbar-item");t&&d.selectItem(t),e.target.classList.contains("jtoolbar-arrow")&&d.open()},window.addEventListener("resize",function(){d.refresh()}),l.classList.add("jtoolbar"),l.innerHTML="",1==d.options.container&&l.classList.add("jtoolbar-container"),document.createElement("div"));return l.appendChild(c),d.options.app&&l.classList.add("jtoolbar-mobile"),d.create(d.options.items),l.toolbar=d}R.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n,e=window.getSelection(),o=e.getRangeAt(0);t=1==t?(n=o.startContainer,0):(n=o.endContainer).length,o.setStart(n,t),o.setEnd(n,t),e.removeAllRanges(),e.addRange(o)},R.getDefaultToolbar=function(e){function t(e,t,n){n.color||(K(n,{onchange:function(e,t){"color"===n.k?document.execCommand("foreColor",!1,t):document.execCommand("backColor",!1,t)}}),n.color.open())}var n=[];return n.push({content:"undo",onclick:function(){document.execCommand("undo")}}),n.push({content:"redo",onclick:function(){document.execCommand("redo")}}),n.push({type:"divisor"}),e.options.toolbarOnTop&&(n.push({type:"select",width:"140px",options:["Default","Verdana","Arial","Courier New"],render:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},onchange:function(e,t,n,o,i){document.execCommand("fontName",!1,o)}}),n.push({type:"select",content:"format_size",options:["x-small","small","medium","large","x-large"],render:function(e){return'<span style="font-size:'+e+'">'+e+"</span>"},onchange:function(e,t,n,o,i){document.execCommand("fontSize",!1,parseInt(i)+1)}}),n.push({type:"select",options:["format_align_left","format_align_center","format_align_right","format_align_justify"],render:function(e){return'<i class="material-icons">'+e+"</i>"},onchange:function(e,t,n,o,i){document.execCommand(["JustifyLeft","justifyCenter","justifyRight","justifyFull"][i])}}),n.push({type:"divisor"}),n.push({content:"format_color_text",k:"color",onclick:t}),n.push({content:"format_color_fill",k:"background-color",onclick:t})),n.push({content:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}}),n.push({content:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}}),n.push({content:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}}),n.push({type:"divisor"}),n.push({content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}}),n.push({content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}}),n.push({content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}}),n.push({content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}),e.options.toolbarOnTop&&(n.push({type:"divisor"}),n.push({content:"photo",onclick:function(){e.upload()}}),n.push({type:"select",content:"table_view",columns:8,grid:8,right:!0,options:["0x0","1x0","2x0","3x0","4x0","5x0","6x0","7x0","0x1","1x1","2x1","3x1","4x1","5x1","6x1","7x1","0x2","1x2","2x2","3x2","4x2","5x2","6x2","7x2","0x3","1x3","2x3","3x3","4x3","5x3","6x3","7x3","0x4","1x4","2x4","3x4","4x4","5x4","6x4","7x4","0x5","1x5","2x5","3x5","4x5","5x5","6x5","7x5","0x6","1x6","2x6","3x6","4x6","5x6","6x6","7x6","0x7","1x7","2x7","3x7","4x7","5x7","6x7","7x7"],render:function(e,t){t&&(t.onmouseover=this.onmouseover,e=e.split("x"),t.setAttribute("data-x",e[0]),t.setAttribute("data-y",e[1]));e=document.createElement("div");return t.style.margin="1px",t.style.border="1px solid #ddd",e},onmouseover:function(e){for(var t=parseInt(e.target.getAttribute("data-x")),n=parseInt(e.target.getAttribute("data-y")),o=0;o<e.target.parentNode.children.length;o++){var i=e.target.parentNode.children[o],a=parseInt(i.getAttribute("data-x")),s=parseInt(i.getAttribute("data-y"));a<=t&&s<=n?(i.style.backgroundColor="#cae1fc",i.style.borderColor="#2977ff"):(i.style.backgroundColor="",i.style.borderColor="#ddd")}},onchange:function(e,t,n){n=n.split("x");for(var o=document.createElement("table"),i=document.createElement("tbody"),a=0;a<=n[1];a++){for(var s=document.createElement("tr"),r=0;r<=n[0];r++){var l=document.createElement("td");l.innerHTML="",s.appendChild(l)}i.appendChild(s)}o.appendChild(i),o.setAttribute("width","100%"),o.setAttribute("cellpadding","6"),o.setAttribute("cellspacing","0"),document.execCommand("insertHTML",!1,o.outerHTML)}})),n};var oe=R;function R(s,e){var t,d={type:"editor",options:{}},n={url:null,value:"",snippet:null,toolbar:!0,toolbarOnTop:!1,remoteParser:null,placeholder:null,filterPaste:!0,dropZone:!0,dropAsSnippet:!1,acceptImages:!0,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null,extensions:null,type:null};for(t in n)e&&e.hasOwnProperty(t)?d.options[t]=e[t]:d.options[t]=n[t];var o=null,r=null,l=[],c=(d.el=s,"function"==typeof d.options.onclick&&(s.onclick=function(e){d.options.onclick(s,d,e)}),s.classList.add("jeditor-container"),document.createElement("div")),i=(c.className="jsnippet",c.setAttribute("contenteditable",!1),document.createElement("div"));if(i.className="jeditor-toolbar",d.editor=document.createElement("div"),d.editor.setAttribute("contenteditable",!0),d.editor.setAttribute("spellcheck",!1),d.editor.classList.add("jeditor"),d.options.placeholder&&d.editor.setAttribute("data-placeholder",d.options.placeholder),(d.options.maxHeight||d.options.height)&&(d.editor.style.overflowY="auto",d.options.maxHeight&&(d.editor.style.maxHeight=d.options.maxHeight),d.options.height&&(d.editor.style.height=d.options.height)),d.options.url)S({url:d.options.url,dataType:"html",success:function(e){d.editor.innerHTML=e,R.setCursor(d.editor,"initial"==d.options.focus)}});else if(d.options.value)d.editor.innerHTML=d.options.value;else for(var a=0;a<s.children.length;a++)d.editor.appendChild(s.children[a]);function u(e){"function"==typeof d.options.onchange&&d.options.onchange(s,d,e),d.options.value=d.getData(),s.value!=d.options.value&&(s.value=d.options.value,"function"==typeof s.oninput&&s.oninput({type:"input",target:s,value:s.value}))}function p(){var e,t=null;(t=c.children[0])&&(t.classList.contains("jslider-grid")||t.classList.add("jslider-grid"),e=t.children.length,t.setAttribute("data-number",4<e?4:e),4<e?t.setAttribute("data-total",e-4):t.removeAttribute("data-total"))}function h(e){var t=window.getSelection(),n=document.createRange();n.selectNode(e),t.addRange(n)}s.innerHTML="",d.appendSnippet=function(e){c.innerHTML="";for(var t=["image","title","description","host","url"],n=0;n<t.length;n++){var o=document.createElement("div");if(o.className="jsnippet-"+t[n],o.setAttribute("data-k",t[n]),c.appendChild(o),e[t[n]])if("image"==t[n]){Array.isArray(e.image)||(e.image=[e.image]);for(var i=0;i<e.image.length;i++){var a=document.createElement("img");a.src=e.image[i],o.appendChild(a)}}else o.innerHTML=e[t[n]]}d.editor.appendChild(document.createElement("br")),d.editor.appendChild(c)},d.setData=function(e){d.editor.innerHTML="object"==typeof e?e.content:e,d.options.focus&&R.setCursor(d.editor,!0),l=[]},d.getFiles=function(){for(var e=d.editor.querySelectorAll(".jfile"),t=[],n=0;n<e.length;n++)l[e[n].src]&&t.push(l[e[n].src]);return t},d.getText=function(){return d.editor.innerText},d.getData=function(e){if(e){s={content:""};if(c.innerHTML){s.snippet={};for(var t=0;t<c.children.length;t++){var n=c.children[t].getAttribute("data-k");if(n)if("image"==n){s.snippet.image||(s.snippet.image=[]);for(var o=0;o<c.children[t].children.length;o++)s.snippet.image.push(c.children[t].children[o].getAttribute("src"))}else s.snippet[n]=c.children[t].innerHTML}}var i=Object.keys(l);if(i.length){s.files=[];for(t=0;t<i.length;t++)s.files.push(l[i[t]])}var e=document.createElement("div"),a=(e.innerHTML=d.editor.innerHTML,e.querySelector(".jsnippet")),a=(a&&a.remove(),e.innerHTML);a=(a=(a=a.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),s.content=a.trim(),N("getData",s)}else var s=d.editor.innerHTML;return s},d.reset=function(){d.editor.innerHTML="",c.innerHTML="",l=[]},d.addPdf=function(n){var e,t;"data"!=n.result.substr(0,4)?console.error("Invalid source"):((e=document.createElement("canvas")).width=60,e.height=60,t=new Image,e.getContext("2d").drawImage(t,0,0,e.width,e.height),e.toBlob(function(e){var t=document.createElement("img");t.src=window.URL.createObjectURL(e),t.title=n.name,t.className="jfile pdf",l[t.src]={file:t.src,extension:"pdf",content:n.result},document.execCommand("insertHtml",!1,t.outerHTML)}))},d.addImage=function(e,o){var i,a;d.options.acceptImages&&("data"==(e=e||"").substr(0,4)||d.options.remoteParser?("data"==e.substr(0,4)?i=(i=(i=e.split(";"))[0].split("/"))[1]:(i=e.substr(e.lastIndexOf(".")+1),e=d.options.remoteParser+e),(a=new Image).onload=function(){var n=document.createElement("canvas");n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(a,0,0,n.width,n.height),n.toBlob(function(e){var t=document.createElement("img");t.src=window.URL.createObjectURL(e),t.classList.add("jfile"),t.setAttribute("tabindex","900"),t.setAttribute("width",a.width),t.setAttribute("height",a.height),l[t.src]={file:t.src,extension:i,content:n.toDataURL()},d.options.dropAsSnippet||o?(e=t,c.innerHTML||d.appendSnippet({}),c.children[0].appendChild(e),p(),l[t.src].snippet=!0):document.execCommand("insertHtml",!1,t.outerHTML),u()})},a.src=e):console.error("remoteParser not defined in your initialization"))},d.addFile=function(e){for(var t,n=[],o=0;o<e.length;o++)e[o].size>d.options.maxFileSize?alert("The file is too big"):(t="image"==(t=e[o].type.split("/"))[0]?1:"pdf"==t[1]?2:0)?(n[o]=new FileReader,n[o].index=o,n[o].type=t,n[o].name=e[o].name,n[o].date=e[o].lastModified,n[o].size=e[o].size,n[o].addEventListener("load",function(e){2==e.target.type?1==d.options.acceptFiles&&d.addPdf(e.target):d.addImage(e.target.result)},!1),n[o].readAsDataURL(e[o])):alert("The extension is not allowed")},d.destroy=function(){d.editor.removeEventListener("mouseup",A),d.editor.removeEventListener("mousedown",M),d.editor.removeEventListener("mousemove",D),d.editor.removeEventListener("keyup",T),d.editor.removeEventListener("keydown",k),d.editor.removeEventListener("dragstart",x),d.editor.removeEventListener("dragenter",w),d.editor.removeEventListener("dragover",L),d.editor.removeEventListener("drop",j),d.editor.removeEventListener("paste",b),d.editor.removeEventListener("blur",E),d.editor.removeEventListener("focus",C),s.editor=null,s.classList.remove("jeditor-container"),i.remove(),c.remove(),d.editor.remove()},d.upload=function(){H.click(d.file)};var f,m=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],g=["width","height","align","border","src","tabindex"],v=["color","font-weight","font-size","background","background-color","margin"],y=function(t){if(t.attributes&&t.attributes.length){var e=null,n=t.getAttribute("style");if(n)for(var e=[],o=n.split(";"),i=0;i<o.length;i++){var a,s=o[i].trim().split(":");0<=v.indexOf(s[0].trim())&&(a=s.shift(),s=s.join(":"),e.push(a+":"+s))}"IMG"==t.tagName.toUpperCase()&&(d.options.acceptImages&&t.src?(t.setAttribute("tabindex","900"),d.addImage(t.src)):t.parentNode.removeChild(t));for(var r=[],l=0;l<t.attributes.length;l++)r.push(t.attributes[l].name);r.length&&r.forEach(function(e){-1==g.indexOf(e)?t.removeAttribute(e):-1!==t.attributes[l].value.indexOf("<")&&t.attributes[l].value.replace("<","&#60;")}),t.style="",e&&e.length&&t.setAttribute("style",e.join(";"))}if(t.children.length)for(l=0;l<t.children.length;l++)y(t.children[l]);0<=m.indexOf(t.constructor)&&t.remove()},b=function(e){var t,n,o,i;1==d.options.filterPaste&&(e.clipboardData||e.originalEvent.clipboardData?(t=(e.originalEvent||e).clipboardData.getData("text/html"),n=(e.originalEvent||e).clipboardData.getData("text/plain"),o=(e.originalEvent||e).clipboardData.files):window.clipboardData&&(t=window.clipboardData.getData("Html"),n=window.clipboardData.getData("Text"),o=window.clipboardData.files),o.length?d.addFile(o):t?(o=(o=t)&&o.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""),o=(new DOMParser).parseFromString(o,"text/html"),y(o),(i=document.createElement("span")).innerHTML=o.firstChild.innerHTML,i=i,document.execCommand("insertHtml",!1,i.innerHTML)):(t=n.split("\r\n"),e.target.innerText?(t=t.map(function(e){return"<div>"+e+"</div>"}),document.execCommand("insertHtml",!1,t.join(""))):t.map(function(e){var t=document.createElement("div");t.innerText=e,d.editor.appendChild(t)})),e.preventDefault())},x=function(e){r&&r.e&&e.preventDefault()},w=function(e){r||0==d.options.dropZone||(s.classList.add("jeditor-dragging"),e.preventDefault())},L=function(e){r||0==d.options.dropZone||(o&&clearTimeout(o),o=setTimeout(function(){s.classList.remove("jeditor-dragging")},100),e.preventDefault())},j=function(e){if(!r&&0!=d.options.dropZone){var t=null,n=(document.caretRangeFromPoint?t=document.caretRangeFromPoint(e.clientX,e.clientY):e.rangeParent&&(t=document.createRange()).setStart(e.rangeParent,e.rangeOffset),window.getSelection()),t=(n.removeAllRanges(),n.addRange(t),n.anchorNode.parentNode.focus(),(e.originalEvent||e).dataTransfer.getData("text/html")),n=(e.originalEvent||e).dataTransfer.getData("text/plain"),o=(e.originalEvent||e).dataTransfer.files;if(o.length)d.addFile(o);else if(n){var o=t,n=document.createElement("div"),i=(n.innerHTML=o,n.querySelectorAll("img"));if(i.length)for(var a=0;a<i.length;a++)d.addImage(i[a].src)}s.classList.remove("jeditor-dragging"),e.preventDefault()}},E=function(e){N("onevent",e),u(e),"function"==typeof d.options.onblur&&d.options.onblur(s,d,e)},C=function(e){"function"==typeof d.options.onfocus&&d.options.onfocus(s,d,e)},T=function(e){d.editor.innerHTML||(d.editor.innerHTML="<div><br></div>"),"function"==typeof d.options.onkeyup&&d.options.onkeyup(s,d,e)},k=function(e){var t;N("onevent",e),"Delete"==e.key&&"IMG"==e.target.tagName&&(t=e.target.parentNode,h(e.target),t.classList.contains("jsnippet-image")&&p()),"function"==typeof d.options.onkeydown&&d.options.onkeydown(s,d,e)},A=function(e){var t;r&&r.e&&(r.e.classList.remove("resizing"),1==r.e.changed&&((t=r.e.cloneNode()).width=parseInt(r.e.style.width)||r.e.getAttribute("width"),t.height=parseInt(r.e.style.height)||r.e.getAttribute("height"),r.e.style.width="",r.e.style.height="",h(r.e),document.execCommand("insertHtml",!1,t.outerHTML))),r=!1},M=function(n){function e(e){var t=e.getBoundingClientRect();t.width-(n.clientX-t.left)<40&&n.clientY-t.top<40&&(e.innerHTML="",e.remove())}if("IMG"==n.target.tagName)if(n.target.style.cursor){var t=n.target.getBoundingClientRect(),o=(r={e:n.target,x:n.clientX,y:n.clientY,w:t.width,h:t.height,d:n.target.style.cursor},n.target.getAttribute("width")||n.target.setAttribute("width",t.width),n.target.getAttribute("height")||n.target.setAttribute("height",t.height),window.getSelection());if(o.rangeCount)for(var i=0;i<o.rangeCount;i++)o.removeRange(o.getRangeAt(i));n.target.classList.add("resizing")}else r=!0;else n.target.classList.contains("jsnippet")?e(n.target):n.target.parentNode.classList.contains("jsnippet")&&e(n.target.parentNode),r=!0},D=function(e){var t,n;"IMG"!=e.target.tagName||e.target.parentNode.classList.contains("jsnippet-image")||1!=d.options.allowImageResize||e.target.getAttribute("tabindex")&&(t=e.target.getBoundingClientRect(),e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""),1==e.which&&r&&r.d&&("e-resize"!=r.d&&"ne-resize"!=r.d&&"se-resize"!=r.d||(r.e.style.width=r.w+(e.clientX-r.x),e.shiftKey?(n=(e.clientX-r.x)*(r.h/r.w),r.e.style.height=r.h+n):n=null),n||"s-resize"!=r.d&&"se-resize"!=r.d&&"sw-resize"!=r.d||e.shiftKey||(r.e.style.height=r.h+(e.clientY-r.y)),r.e.changed=!0)},N=function(e,t){if(d.options.extensions){var n=Object.keys(d.options.extensions);if(n.length)for(var o=0;o<n.length;o++)d.options.extensions[n[o]]&&"function"==typeof d.options.extensions[n[o]][e]&&d.options.extensions[n[o]][e].call(d,t)}};if(document.addEventListener("mouseup",A),document.addEventListener("mousemove",D),d.editor.addEventListener("mousedown",M),d.editor.addEventListener("keyup",T),d.editor.addEventListener("keydown",k),d.editor.addEventListener("dragstart",x),d.editor.addEventListener("dragenter",w),d.editor.addEventListener("dragover",L),d.editor.addEventListener("drop",j),d.editor.addEventListener("paste",b),d.editor.addEventListener("focus",C),d.editor.addEventListener("blur",E),s.appendChild(d.editor),d.options.snippet&&d.appendSnippet(d.options.snippet),d.options.toolbar&&((f=Array.isArray(d.options.toolbar)?{container:!0,responsive:!0,items:d.options.toolbar}:!0===d.options.toolbar?{container:!0,responsive:!0,items:[]}:d.options.toolbar).items&&f.items.length||(f.items=R.getDefaultToolbar(d)),d.options.toolbarOnTop?(s.classList.add("toolbar-on-top"),s.insertBefore(i,s.firstChild)):(d.editor.style.padding="15px",s.appendChild(i)),ne(i,f),i.addEventListener("click",function(){d.editor.focus()})),d.file=document.createElement("input"),d.file.style.display="none",d.file.type="file",d.file.setAttribute("accept","image/*"),d.file.onchange=function(){d.addFile(this.files)},s.appendChild(d.file),d.options.focus&&R.setCursor(d.editor,"initial"==d.options.focus),s.change=d.setData,s.val=function(e){var t;if(void 0===e)return t="true"!==s.getAttribute("data-html"),d.getData(t);d.setData(e)},d.options.extensions){var O=Object.keys(d.options.extensions);if(O.length)for(var I=0;I<O.length;I++)d.options.extensions[O[I]]&&"function"==typeof d.options.extensions[O[I]]&&(d.options.extensions[O[I]]=d.options.extensions[O[I]](s,d))}return"function"==typeof(s.editor=d).options.onload&&d.options.onload(s,d,d.editor),d}I.elements=[];var ie=I;function I(t,e){var n,o={options:{}},i={type:"big",title:"Untitled",width:510,height:472};for(n in i)e&&e.hasOwnProperty(n)?o.options[n]=e[n]:o.options[n]=i[n];return o.state={isMinized:!1},o.setState=function(){o.state.isMinized?o.container.classList.remove("jfloating-minimized"):o.container.classList.add("jfloating-minimized"),o.state.isMinized=!o.state.isMinized},o.close=function(){Components.elements.splice(I.elements.indexOf(o.container),1),o.updatePosition(),t.remove()},o.updatePosition=function(){for(var e=0;e<I.elements.length;e++){var t=I.elements[e],n=I.elements[e-1];t.style.right=e*(n||t).offsetWidth*1.01+"px"}},o.init=function(){for(var e=document.createElement("div");t.children[0];)e.appendChild(t.children[0]);for(o.content=document.createElement("div"),o.content.className="jfloating_content",o.content.innerHTML=t.innerHTML;e.children[0];)o.content.appendChild(e.children[0]);o.container=document.createElement("div"),o.container.className="jfloating",o.container.appendChild(o.content),o.options.title?o.container.setAttribute("title",o.options.title):o.container.classList.add("no-title"),o.options.width&&(o.container.style.width=parseInt(o.options.width)+"px"),o.options.height&&(o.container.style.height=parseInt(o.options.height)+"px"),t.innerHTML="",t.appendChild(o.container),o.container&&o.container.addEventListener("click",function(e){var t,n=e.target.getBoundingClientRect();e.target.classList.contains("jfloating")&&(e=e.changedTouches&&e.changedTouches[0]?(t=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(t=e.clientX,e.clientY),n.width-(t-n.left)<50&&e-n.top<50?setTimeout(function(){o.close()},100):o.setState())}),o.container.classList.add("jfloating-"+o.options.type),I.elements.push(o.container),o.updatePosition(),t.floating=o},o.init(),o}var Y=function(){function o(e){return!isNaN(e)&&null!==e&&("string"!=typeof e||""!==e.trim())}function n(e,t){return"function"==typeof n[t.type]?!(!t.allowBlank||void 0!==e&&""!==e&&null!==e)||n[t.type].call(this,e,t):null}function t(){let e=new Date;return e.setHours(0,0,0,0),e}const i={between:function(e,t){return e>=t[0]&&e<=t[1]},"not between":function(e,t){return e<t[0]||e>t[1]},"<":function(e,t){return e<t[0]},"<=":function(e,t){return e<=t[0]},">":function(e,t){return e>t[0]},">=":function(e,t){return e>=t[0]},"=":function(e,t){return e==t[0]},"!=":function(e,t){return e!=t[0]}},a={"valid date":function(){return!0},"=":function(e,t){return e===t[0]},"!=":function(e,t){return e!==t[0]},"<":function(e,t){return e<t[0]},"<=":function(e,t){return e<=t[0]},">":function(e,t){return e>t[0]},">=":function(e,t){return e>=t[0]},between:function(e,t){return e>=t[0]&&e<=t[1]},"not between":function(e,t){return e<t[0]||e>t[1]}},s={contains:function(e,t){return e.includes(t[0])},"not contains":function(e,t){return!e.includes(t[0])},"begins with":function(e,t){return e.startsWith(t[0])},"ends with":function(e,t){return e.endsWith(t[0])},"=":function(e,t){return e===t[0]},"!=":function(e,t){return e!==t[0]},"valid email":function(e){return new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/).test(e)},"valid url":function(e){return new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(e)}},r=(n.url=function(e){return!!new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(e)},n.email=function(e){var t=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!e||!t.test(e))},n.required=function(e){return!(!e||!e.trim())},n.empty=function(e){return null==e||"string"==typeof e&&!e.toString().trim()},n["not exist"]=n.empty,n.notEmpty=function(e){return!n.empty(e)},n.exist=n.notEmpty,n.number=function(e,t){if(!o(e))return!1;if(!t||!t.criteria)return!0;if(!i[t.criteria])return!1;var n=t.value.map(function(e){return parseFloat(e)});return i[t.criteria](e,n)},n.login=function(e){let t=new RegExp(/^[a-zA-Z0-9._-]+$/);return!(!e||!t.test(e))},n.list=function(t,e){var n=typeof t;if("string"!=n&&"number"!=n)return!1;let o;return o="string"==typeof e.value[0]?e.value[0].split(","):e.value[0],!!Array.isArray(o)&&-1<o.findIndex(function(e){return e==t})},{"one year ago":function(){let e=t();return e.setFullYear(e.getFullYear()-1),e},"one month ago":function(){let e=t();return e.setMonth(e.getMonth()-1),e},"one week ago":function(){let e=t();return e.setDate(e.getDate()-7),e},yesterday:function(){let e=t();return e.setDate(e.getDate()-1),e},today:t,tomorrow:function(){let e=t();return e.setDate(e.getDate()+1),e}});return n.date=function(e,t){if(o(e)&&0<e&&e<1e6&&(e=A.numToDate(e)),"Invalid Date"==new Date(e))return!1;if(!t||!t.criteria)return!0;if(!a[t.criteria])return!1;var n=t.value.map(function(e){return("string"==typeof e&&r[e]?r[e]():new Date(e)).getTime()});return a[t.criteria](new Date(e).getTime(),n)},n.text=function(e,t){if(null==e)e="";else if("string"!=typeof e)return!1;return!t||!t.criteria||!!s[t.criteria]&&s[t.criteria](e,t.value)},n.textLength=function(e,t){return e=e.toString(),n.number(e.length,t)},n}();V.getValue=function(e){var t=null;if("checkbox"==e.type)1==e.checked&&(t=e.value||!0);else if("radio"==e.type)1==e.checked&&(t=e.value);else if("file"==e.type)t=e.files;else if("select"==e.tagName&&1==e.multiple)for(var t=[],n=e.querySelectorAll("options[selected]"),o=0;o<n.length;o++)t.push(n[o].value);else t="function"==typeof e.val?e.val():e.value||"";return t},V.getElements=function(e,t){for(var n,o={},i=e.querySelectorAll("input, select, textarea, div[name]"),a=0;a<i.length;a++)(n=i[a].getAttribute("name"))&&(o[n]=V.getValue(i[a])||"");return 1==t?o:JSON.stringify(o)},V.setElements=function(e,t){for(var n=null,o=null,i=e.querySelectorAll("input, select, textarea, div[name]"),a=0;a<i.length;a++){var s,r=i[a].getAttribute("type");(n=i[a].getAttribute("name"))&&(o=null,(n=n.replace(new RegExp(/\[(.*?)\]/gi),".$1")).match(/\./)?void 0!==(s=P.call(t,n)||"")&&(o=s):void 0!==t[n]&&(o=t[n]),null!==o&&("checkbox"==r||"radio"==r?i[a].checked=!!o:"file"!=r&&("function"==typeof i[a].val?i[a].val(o):i[a].value=o)))}};var ae=V;function V(r,e){var t,l={options:{}},n={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(e,t){alert(t)}};for(t in n)e&&e.hasOwnProperty(t)?l.options[t]=e[t]:l.options[t]=n[t];return l.options.validations||(l.options.validations={}),l.options.submitButton||(l.options.submitButton=r.querySelector("input[type=submit]")),l.options.submitButton&&l.options.url&&(l.options.submitButton.onclick=function(){l.save()}),l.options.validations.email||(l.options.validations.email=Y.email),l.options.validations.length||(l.options.validations.length=Y.length),l.options.validations.required||(l.options.validations.required=Y.required),l.setUrl=function(e){l.options.url=e},l.load=function(){S({url:l.options.url,method:"GET",dataType:"json",queue:!0,success:function(e){var t;"function"==typeof l.options.onbeforeload&&(t=l.options.onbeforeload(r,e))&&(e=t),V.setElements(r,e),"function"==typeof l.options.onload&&l.options.onload(r,e)}})},l.save=function(){var e=l.validate();if(e)l.options.onerror(r,e);else{var t=V.getElements(r,!0);if("function"==typeof l.options.onbeforesave)if(!1===(t=l.options.onbeforesave(r,t)))return;S({url:l.options.url,method:"POST",dataType:"json",data:t,success:function(e){"function"==typeof l.options.onsave&&l.options.onsave(r,t,e)}})}},l.remove=function(){if("function"==typeof l.options.onbeforeremove&&!1===l.options.onbeforeremove(r,l))return!1;S({url:l.options.url,method:"DELETE",dataType:"json",success:function(e){"function"==typeof l.options.onremove&&l.options.onremove(r,l,e),l.reset()}})},l.validateElement=function(e){var t=!1,n=V.getValue(e),o=e.getAttribute("data-validation");if("function"!=typeof l.options.validations[o]||l.options.validations[o](n,e)){if(e.classList.contains("error")){for(var o=e,i=!1,a=(o.classList.remove("error"),o.removeAttribute("title"),r.querySelectorAll("input, select, textarea, div[name]")),s=0;s<a.length;s++)a[s].getAttribute("data-validation")&&a[s].classList.contains("error")&&(i=!0);l.options.submitButton&&(i?l.options.submitButton.setAttribute("disabled",!0):l.options.submitButton.removeAttribute("disabled"))}}else(n=e).classList.add("error"),l.options.submitButton&&l.options.submitButton.setAttribute("disabled",!0),o=n.getAttribute("data-error")||"There is an error in the form",n.setAttribute("title",o),t=o;return t},l.reset=function(){for(var e=r.querySelectorAll("input, select, textarea, div[name]"),t=0;t<e.length;t++)e[t].getAttribute("name")&&("checkbox"==e[t].type||"radio"==e[t].type?e[t].checked=!1:"function"==typeof e[t].val?e[t].val(""):e[t].value="")},l.validate=function(){for(var e,t=[],n=r.querySelectorAll("input, select, textarea, div[name]"),o=0;o<n.length;o++)n[o].getAttribute("data-validation")&&(e=l.validateElement(n[o]))&&t.push(e);return 0<t.length&&t.join("<br>")},l.getError=function(){return!!l.validation()},l.setHash=function(){return l.getHash(V.getElements(r))},l.getHash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},l.isChanged=function(){var e=l.setHash();return l.options.currentHash!=e},l.resetTracker=function(){l.options.currentHash=l.setHash(),l.options.ignore=!1},l.setIgnore=function(e){l.options.ignore=!!e},setTimeout(function(){l.options.currentHash=l.setHash()},1e3),r.addEventListener("keyup",function(e){e.target.getAttribute("data-validation")&&l.validateElement(e.target)}),V.hasEvents||(window.addEventListener("beforeunload",function(e){if(l.isChanged()&&0==l.options.ignore){var t=l.options.message||"o/";if(t)return(e=void 0===e?window.event:e)&&(e.returnValue=t),t}}),V.hasEvents=!0),r.form=l}function se(t,e){var n,o={options:{}},i={url:null,onopen:null,onclose:null,onload:null,closed:!1,width:null,height:null,title:null,padding:null,backdrop:!0,icon:null};for(n in i)e&&e.hasOwnProperty(n)?o.options[n]=e[n]:o.options[n]=i[n];!o.options.title&&t.getAttribute("title")&&(o.options.title=t.getAttribute("title"));for(var a,s,r=document.createElement("div");t.children[0];)r.appendChild(t.children[0]);for(o.title=document.createElement("div"),o.title.className="jmodal_title",o.options.icon&&o.title.setAttribute("data-icon",o.options.icon),o.content=document.createElement("div"),o.content.className="jmodal_content",o.content.innerHTML=t.innerHTML;r.children[0];)o.content.appendChild(r.children[0]);return o.container=document.createElement("div"),o.container.className="jmodal",o.container.appendChild(o.title),o.container.appendChild(o.content),o.options.padding&&(o.content.style.padding=o.options.padding),o.options.width&&(o.container.style.width=o.options.width),o.options.height&&(o.container.style.height=o.options.height),o.options.title&&((a=document.createElement("h4")).innerText=o.options.title,o.title.appendChild(a)),t.innerHTML="",t.style.display="none",t.appendChild(o.container),o.options.backdrop&&((s=document.createElement("div")).className="jmodal_backdrop",s.onclick=function(){o.close()},t.appendChild(s)),o.open=function(){t.style.display="block";var e=o.container.getBoundingClientRect();H.getWindowWidth()<e.width?(o.container.style.top="",o.container.style.left="",o.container.classList.add("jmodal_fullscreen"),N.slideBottom(o.container,1)):o.options.backdrop&&(s.style.display="block"),"function"==typeof o.options.onopen&&o.options.onopen(t,o)},o.resetPosition=function(){o.container.style.top="",o.container.style.left=""},o.isOpen=function(){return"none"!=t.style.display},o.close=function(){o.isOpen()&&(t.style.display="none",o.options.backdrop&&(s.style.display=""),o.container.classList.remove("jmodal_fullscreen"),"function"==typeof o.options.onclose&&o.options.onclose(t,o))},o.options.url?S({url:o.options.url,method:"GET",dataType:"text/html",success:function(e){o.content.innerHTML=e,o.options.closed||o.open(),"function"==typeof o.options.onload&&o.options.onload(o)}}):(o.options.closed||o.open(),"function"==typeof o.options.onload&&o.options.onload(o)),t.modal=o,re(),re=function(){},o}var re;re=function(){var a=null;document.addEventListener("keydown",function(e){if(27==e.which)for(var t=document.querySelectorAll(".jmodal"),n=0;n<t.length;n++)t[n].parentNode.modal.close()}),document.addEventListener("mouseup",function(e){var t,n,o=e.composedPath(),o=H.findElement(o[0],"jmodal");o&&(t=o.getBoundingClientRect(),e=e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(n=e.clientX,e.clientY),t.width-(n-t.left)<50&&e-t.top<50&&o.parentNode.modal.close()),a&&(a.element.style.cursor="auto",a=null)}),document.addEventListener("mousedown",function(e){var t,n,o,i=e.composedPath(),i=H.findElement(i[0],"jmodal");i&&(t=i.getBoundingClientRect(),o=e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(n=e.clientX,e.clientY),t.width-(n-t.left)<50&&o-t.top<50||o-t.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),a={left:t.left,top:t.top,x:e.clientX,y:e.clientY,width:t.width,height:t.height,element:i}))}),document.addEventListener("mousemove",function(e){a&&((e=e||window.event).buttons||e.button||e.which?(a.element.style.top=a.top+(e.clientY-a.y)+a.height/2+"px",a.element.style.left=a.left+(e.clientX-a.x)+a.width/2+"px",a.element.style.cursor="move"):a.element.style.cursor="auto")})};de.isVisible=function(){var e=document.querySelector(".jnotification");return!(!e||!e.parentNode)};var le=de;function de(e){var t,n={options:{}},o={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(t in o)e&&e.hasOwnProperty(t)?n.options[t]=e[t]:n.options[t]=o[t];var i,a=document.createElement("div"),s=(a.className="jnotification",n.options.error&&a.classList.add("jnotification-error"),document.createElement("div")),r=(s.className="jnotification-container",a.appendChild(s),document.createElement("div")),l=(r.className="jnotification-header",s.appendChild(r),document.createElement("div"));l.className="jnotification-image",r.appendChild(l),n.options.icon&&((d=document.createElement("img")).src=n.options.icon,l.appendChild(d)),(l=document.createElement("div")).className="jnotification-name",l.innerHTML=n.options.name,r.appendChild(l),1==n.options.closeable&&((d=document.createElement("div")).className="jnotification-close",d.onclick=function(){n.hide()},r.appendChild(d));(l=document.createElement("div")).className="jnotification-date",r.appendChild(l);var d=document.createElement("div");return d.className="jnotification-content",s.appendChild(d),n.options.title&&((r=document.createElement("div")).className="jnotification-title",r.innerHTML=n.options.title,d.appendChild(r)),(l=document.createElement("div")).className="jnotification-message",l.innerHTML=n.options.message,d.appendChild(l),n.show=function(){document.body.appendChild(a),800<H.getWindowWidth()?N.fadeIn(a):N.slideTop(a,1)},n.hide=function(){800<H.getWindowWidth()?N.fadeOut(a,function(){a.parentNode&&(a.parentNode.removeChild(a),i&&clearTimeout(i))}):N.slideTop(a,0,function(){a.parentNode&&(a.parentNode.removeChild(a),i&&clearTimeout(i))})},n.show(),1==n.options.autoHide&&(i=setTimeout(function(){n.hide()},n.options.timeout)),H.getWindowWidth()<800&&a.addEventListener("swipeup",function(e){n.hide(),e.preventDefault(),e.stopPropagation()}),n}function ce(l,e){if(l.search)return l.search;function t(o){var e;o!=d.terms&&(d.terms=o,n=d.options.forceSelect?0:null,Array.isArray(d.options.data)?(e=d.options.data.filter(function(e){var t=e;if("string"==typeof t){if(0<=(""+t).toLowerCase().search(o.toLowerCase()))return!0}else for(var n in t)if(0<=(""+t[n]).toLowerCase().search(o.toLowerCase()))return!0;return!1}),i(e)):S({url:d.options.data+o,method:"GET",dataType:"json",success:function(e){i(e)}}))}var n=null,i=function(e){var t;if("function"!=typeof d.options.onsearch||(t=d.options.onsearch(d,e))&&(e=t),c.innerHTML="",e.length){l.style.display="block";for(var n=e.length<11?e.length:10,o=0;o<n;o++){"string"==typeof e[o]?(i=e[o],a=e[o]):(!(i=e[o].text)&&e[o].name&&(i=e[o].name),!(a=e[o].value)&&e[o].id&&(a=e[o].id));var i,a,s=document.createElement("div"),r=(s.setAttribute("data-value",a),s.setAttribute("data-text",i),s.className="jsearch_item",e[o].id&&s.setAttribute("id",e[o].id),d.options.forceSelect&&0==o&&s.classList.add("selected"),document.createElement("img")),r=(e[o].image?r.src=e[o].image:r.style.display="none",s.appendChild(r),document.createElement("div"));r.innerHTML=i,s.appendChild(r),c.appendChild(s)}}else l.style.display=""},o=null,d=function(e){o&&clearTimeout(o),o=setTimeout(function(){t(e)},500)},c=(null===e.forceSelect&&(e.forceSelect=!0),d.options={data:e.data||null,input:e.input||null,searchByNode:e.searchByNode||null,onselect:e.onselect||null,forceSelect:e.forceSelect,onsearch:e.onsearch||null,onbeforesearch:e.onbeforesearch||null},d.selectIndex=function(e){var t=e.getAttribute("id"),n=e.getAttribute("data-text"),o=e.getAttribute("data-value"),e=e.children[0].src||"";"function"==typeof d.options.onselect&&d.options.onselect(d,n,o,t,e),d.close()},d.open=function(){l.style.display="block"},d.close=function(){o&&clearTimeout(o),d.terms="",c.innerHTML="",l.style.display=""},d.isOpened=function(){return!!l.style.display},d.keydown=function(e){d.isOpened()&&("Enter"==e.key?null!==n&&c.children[n]?(d.selectIndex(c.children[n]),e.preventDefault()):d.close():"ArrowUp"===e.key?(null!==n&&c.children[0]&&(c.children[n].classList.remove("selected"),d.options.forceSelect||0!==n?(n=Math.max(0,n-1),c.children[n].classList.add("selected")):n=null),e.preventDefault()):"ArrowDown"===e.key&&(null==n?n=-1:c.children[n].classList.remove("selected"),n<9&&c.children[n+1]&&n++,c.children[n].classList.add("selected"),e.preventDefault()))},d.keyup=function(e){var t;if(!d.options.searchByNode&&d.options.input?t="DIV"===d.options.input.tagName?d.options.input.innerText:d.options.input.value:(n=H.getNode())&&(t=n.innerText),"function"==typeof d.options.onbeforesearch){var n=d.options.onbeforesearch(d,t);if(n)t=n;else if(!1===n)return}d(t)},d.blur=function(e){d.close()},d.options.input&&(d.options.input.addEventListener("keyup",d.keyup),d.options.input.addEventListener("keydown",d.keydown),d.options.input.addEventListener("blur",d.blur)),document.createElement("div"));return c.classList.add("jsearch_container"),c.onmousedown=function(e){var t;t=e.target.classList.contains("jsearch_item")?e.target:e.target.parentNode,d.selectIndex(t),e.preventDefault()},l.appendChild(c),l.classList.add("jsearch"),l.search=d}function ue(a,e){var t,s={options:{}},n={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null};for(t in n)e&&e.hasOwnProperty(t)?s.options[t]=e[t]:s.options[t]=n[t];1==s.options.multiple&&a.setAttribute("data-multiple",!0),a.content=[],a.classList.add("jupload"),1==s.options.input&&a.classList.add("input"),s.add=function(e){var t,n;0==s.options.multiple&&(a.content=[],a.innerText=""),"image"==s.options.type?((t=document.createElement("img")).setAttribute("src",e.file),t.setAttribute("tabindex",-1),a.getAttribute("name")||(t.className="jfile",t.content=e),a.appendChild(t)):(t=e.name||e.file,(n=document.createElement("div")).innerText=t||s.options.type,n.classList.add("jupload-item"),n.setAttribute("tabindex",-1),a.appendChild(n)),e.content&&(e.file=H.guid()),a.content.push(e),"function"==typeof s.options.onchange&&s.options.onchange(a,e)},s.addFromFile=function(t){var e;t.type.split("/")[0]==s.options.type?((e=new FileReader).addEventListener("load",function(e){e={file:e.srcElement.result,extension:t.name.substr(t.name.lastIndexOf(".")+1),name:t.name,size:t.size,lastmodified:t.lastModified,content:e.srcElement.result};s.add(e)}),e.readAsDataURL(t)):alert(M.translate("This extension is not allowed"))},s.addFromUrl=function(e){var t,n;"data"==e.substr(0,4)||s.options.remoteParser?"data"==e.substr(0,4)?(n=(n=e.split(";"))[0].split("/"))[0].replace("data:","")==s.options.type?(t={file:e,name:"",extension:n[1],content:e},s.add(t)):alert(s.options.text.extensionNotAllowed):(n=e.substr(e.lastIndexOf(".")+1),e=s.options.remoteParser+e,S({url:e,type:"GET",dataType:"blob",success:function(e){}})):console.error("remoteParser not defined in your initialization")};var o=s.options.type+"/"+s.options.extension,i=document.createElement("input"),r=(i.type="file",i.setAttribute("accept",o),i.onchange=function(){for(var e=0;e<this.files.length;e++)s.addFromFile(this.files[e])},1==s.options.multiple&&i.setAttribute("multiple",!0),null);return a.addEventListener("click",function(e){r=null,a.children.length&&e.target!==a?e.target.parentNode==a&&(r=e.target):H.click(i)}),a.addEventListener("dblclick",function(e){H.click(i)}),a.addEventListener("dragenter",function(e){a.style.border="1px dashed #000"}),a.addEventListener("dragleave",function(e){a.style.border="1px solid #eee"}),a.addEventListener("dragstop",function(e){a.style.border="1px solid #eee"}),a.addEventListener("dragover",function(e){e.preventDefault()}),a.addEventListener("keydown",function(e){r&&46==e.which&&0<=(e=Array.prototype.indexOf.call(a.children,r))&&(a.content.splice(e,1),r.remove(),r=null)}),a.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation();var t=(e.originalEvent||e).dataTransfer.getData("text/html");if((e.originalEvent||e).dataTransfer.files.length)for(var n=0;n<e.dataTransfer.files.length;n++)s.addFromFile(e.dataTransfer.files[n]);else if(t){0==s.options.multiple&&(a.innerText="");var o=document.createElement("div"),i=(o.innerHTML=t,o.querySelectorAll("img"));if(i.length)for(n=0;n<i.length;n++)s.addFromUrl(i[n].src)}return!(a.style.border="1px solid #eee")}),a.val=function(e){if(void 0===e)return a.content&&a.content.length?a.content:null;if(a.innerText="",a.content=[],e)if(Array.isArray(e))for(var t=0;t<e.length;t++)"string"==typeof e[t]?s.add({file:e[t]}):s.add(e[t]);else"string"==typeof e&&s.add({file:e})},a.upload=a.image=s}function pe(){D.state=[];const l=function(e,t){return!(!e[t.type]||e[t.type]!=t)||(!(!e.component||e.component!=t)||!!e.parentNode&&l(e.parentNode,t))};let d=!1,r={x:null,y:null},i=document.createElement("div");function c(e){let t,n;var o=e.path||e.composedPath&&e.composedPath();return o?(n=o[0])&&a(n)&&!n.shadowRoot&&e.toElement&&(n=e.toElement):(t=e.target&&a(e.target)?e.target.shadowRoot:document,n=t.elementFromPoint(x,y)),n}i.classList.add("jtooltip");const a=function(e){return e.shadowRoot||e.tagName.includes("-")};let n=["n","ne","e","se","s","sw","w","nw","rotate"];n.forEach(function(e,t){n[t]=document.createElement("div"),n[t].classList.add("jpanel-action"),"rotate"===e?n[t].setAttribute("data-action","rotate"):(n[t].setAttribute("data-action","resize"),n[t].setAttribute("data-position",e+"-resize"))});let o;function u(e){e=c(e);let t=F.findElement(e,"jpanel");if(t&&!t.classList.contains("readonly")&&t.classList.contains("jpanel-controls"))t.append(...n),t.classList.contains("jpanel-rotate")||n[n.length-1].remove(),o=t;else if(o){n.forEach(function(e){e.remove()});o=null}}document.addEventListener("focusin",u),document.addEventListener("mouseup",function(e){d&&d.e&&("function"==typeof d.e.refresh&&r.actioned&&d.e.refresh(),d.e.style.cursor=""),r={x:null,y:null},d=!1}),document.addEventListener("mousedown",function(e){var n,o;o=e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(n=e.clientX,e.clientY);let i=c(e);var a=i&&"DIV"===i.tagName&&i.getAttribute("contentEditable");let s=F.findElement(i,"jpanel");if(!s||s.classList.contains("readonly")||a)d=!1;else{a=s.getBoundingClientRect();let e=0,t=(s.style.rotate&&(e=parseFloat(s.style.rotate)),"move");i.getAttribute("data-action")?t=i.getAttribute("data-action"):s.style.cursor?t="resize":s.style.cursor="move",d={action:t,a:e,e:s,x:n,y:o,l:a.left,t:a.top,b:a.bottom,r:a.right,w:a.width,h:a.height,d:s.style.cursor,actioned:!1},s.style.width||(s.style.width=a.width+"px"),s.style.height||(s.style.height=a.height+"px")}var t=i;if(D.state&&0<D.state.length)for(var r=0;r<D.state.length;r++)D.state[r]&&!l(t,D.state[r])&&D.state[r].close();u(e)}),document.addEventListener("mousemove",function(i){if(d){var a=i.clientX||i.pageX,s=i.clientY||i.pageY;if(null==r.x&&null==r.y&&(r.x=a,r.y=s),"move"===d.action){var n=a-r.x,o=s-r.y,o=d.e.offsetTop+o,n=d.e.offsetLeft+n;d.e.style.top=o+"px",d.e.style.left=n+"px","function"==typeof d.e.refresh&&(r.actioned=!0,d.e.refresh("position",o,n))}else if("rotate"===d.action){o=function(e,t,n,o,i,a){i-=e,a-=t,o=Math.atan2(o-t,n-e);let s=Math.atan2(a,i)-o;return(s*=180/Math.PI)<0&&(s+=360),s}(d.l+d.w/2,d.t+d.h/2,d.x,d.y,a,s);o+=d.a%360,o=2*Math.round(o/2),d.e.style.rotate=o+"deg","function"==typeof d.e.refresh&&(r.actioned=!0,d.e.refresh("rotate",o))}else if("resize"===d.action){let e=null,t=null,n=null,o=null;"e-resize"==d.d||"ne-resize"==d.d||"se-resize"==d.d?(n=d.e.offsetWidth+(a-r.x),i.shiftKey&&(o=d.e.offsetHeight+(a-r.x)*(d.e.offsetHeight/d.e.offsetWidth))):"w-resize"!==d.d&&"nw-resize"!=d.d&&"sw-resize"!=d.d||(t=d.e.offsetLeft+(a-r.x),n=d.e.offsetLeft+d.e.offsetWidth-t,i.shiftKey&&(o=d.e.offsetHeight-(a-r.x)*(d.e.offsetHeight/d.e.offsetWidth))),"s-resize"==d.d||"se-resize"==d.d||"sw-resize"==d.d?o=o||d.e.offsetHeight+(s-r.y):"n-resize"!==d.d&&"ne-resize"!=d.d&&"nw-resize"!=d.d||(e=d.e.offsetTop+(s-r.y),o=d.e.offsetTop+d.e.offsetHeight-e),e&&(d.e.style.top=e+"px"),t&&(d.e.style.left=t+"px"),n&&(d.e.style.width=n+"px"),o&&(d.e.style.height=o+"px"),"function"==typeof d.e.refresh&&(r.actioned=!0,d.e.refresh("dimensions",n,o))}r.x=a,r.y=s}else{let e=c(i),t=F.findElement(e,"jpanel");t&&(t.classList.contains("jpanel-controls")?(n=e.getAttribute("data-position"),t.style.cursor=n||""):t.getAttribute("tabindex")&&(o=t.getBoundingClientRect(),i.clientY-o.top<15?o.width-(i.clientX-o.left)<15?t.style.cursor="ne-resize":i.clientX-o.left<15?t.style.cursor="nw-resize":t.style.cursor="n-resize":o.height-(i.clientY-o.top)<15?o.width-(i.clientX-o.left)<15?t.style.cursor="se-resize":i.clientX-o.left<15?t.style.cursor="sw-resize":t.style.cursor="s-resize":o.width-(i.clientX-o.left)<15?t.style.cursor="e-resize":i.clientX-o.left<15?t.style.cursor="w-resize":t.style.cursor=""))}}),document.addEventListener("mouseover",function(e){let t=c(e);var n,o=t.getAttribute("data-tooltip");o?(i.innerText=o,o=e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(n=e.clientX,e.clientY),i.style.top=o+"px",i.style.left=n+"px",document.body.appendChild(i)):i.innerText&&(i.innerText="",document.body.removeChild(i))}),document.addEventListener("keydown",function(e){let t=document.activeElement;t&&"Delete"===e.key&&"function"==typeof t.delete&&(t.delete(),e.preventDefault(),e.stopImmediatePropagation()),D.state&&D.state.length&&(t=D.state[D.state.length-1])&&"Escape"===e.key&&"function"==typeof t.isOpened&&"function"==typeof t.close&&t.isOpened()&&(t.close(),e.preventDefault(),e.stopImmediatePropagation())}),document.addEventListener("contextmenu",function(e){var t,n=document.activeElement;n&&"function"==typeof n.contextmenu?(n.contextmenu(e),e.preventDefault(),e.stopImmediatePropagation()):(n=F.findElement(e.target,function(e){return e.tagName&&e.getAttribute("aria-contextmenu-id")}))&&((t=document.querySelector("#"+n))?(t.contextmenu.open(e),e.preventDefault(),e.stopImmediatePropagation()):console.error("JSUITES: contextmenu id not found: "+n))}),document.addEventListener("input",function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&F.mask(e)})}var he=ge(195),he=ge.n(he),F={...M,...H,version:"5.4.4",setExtensions:function(e){if("object"==typeof e)for(var t=Object.keys(e),n=0;n<t.length;n++)F[t[n]]=e[t[n]]},tracking:D,path:P,sorting:B,lazyLoading:z,ajax:S,animation:N,calendar:G,color:K,contextmenu:Q,dropdown:ee,editor:oe,floating:ie,form:ae,mask:e,modal:se,notification:le,palette:Z,picker:te,progressbar:function(o,e){var t,i={options:{}},n={value:0,onchange:null,width:null};for(t in n)e&&e.hasOwnProperty(t)?i.options[t]=e[t]:i.options[t]=n[t];function a(e){var t,n;e.which&&(t=o.getBoundingClientRect(),e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].clientX,e.changedTouches[0].clientY):(n=e.clientX,e.clientY),i.setValue(Math.round((n-t.left)/t.width*100)))}o.classList.add("jprogressbar"),o.setAttribute("tabindex",1),o.setAttribute("data-value",i.options.value);var s=document.createElement("div");return s.style.width=i.options.value+"%",s.style.color="#fff",o.appendChild(s),i.options.width&&(o.style.width=i.options.width),i.setValue=function(e){e=parseInt(e),i.options.value=e,s.style.width=e+"%",o.setAttribute("data-value",e+"%"),o.style.color=e<6?"#000":"#fff",i.options.value=e,"function"==typeof i.options.onchange&&i.options.onchange(o,e),o.value!=i.options.value&&(o.value=i.options.value,"function"==typeof o.oninput&&o.oninput({type:"input",target:o,value:o.value}))},i.getValue=function(){return i.options.value},"touchstart"in document.documentElement==!0?(o.addEventListener("touchstart",a),o.addEventListener("touchend",a)):(o.addEventListener("mousedown",a),o.addEventListener("mousemove",a)),o.change=i.setValue,o.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},o.progressbar=i},rating:function(s,e){if(s.rating)return s.rating.setOptions(e,!0);var r={options:{},setOptions:function(e,t){var n,o={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(n in o)e&&e.hasOwnProperty(n)?r.options[n]=e[n]:void 0!==r.options[n]&&!0!==t||(r.options[n]=o[n]);s.innerHTML="";for(var i=0;i<r.options.number;i++){var a=document.createElement("div");a.setAttribute("data-index",i+1),a.setAttribute("title",r.options.tooltip[i]),s.appendChild(a)}if(r.options.value)for(i=0;i<r.options.number;i++)i<r.options.value&&s.children[i].classList.add("jrating-selected");return r},setValue:function(e){for(var t=0;t<r.options.number;t++)t<e?s.children[t].classList.add("jrating-selected"):(s.children[t].classList.remove("jrating-over"),s.children[t].classList.remove("jrating-selected"));r.options.value=e,"function"==typeof r.options.onchange&&r.options.onchange(s,e),s.value!=r.options.value&&(s.value=r.options.value,"function"==typeof s.oninput&&s.oninput({type:"input",target:s,value:s.value}))},getValue:function(){return r.options.value}};return r.setOptions(e),s.classList.add("jrating"),s.addEventListener("click",function(e){e=e.target.getAttribute("data-index");null!=e&&(e==r.options.value?r.setValue(0):r.setValue(e))}),s.addEventListener("mouseover",function(e){for(var t=e.target.getAttribute("data-index"),n=0;n<r.options.number;n++)n<t?s.children[n].classList.add("jrating-over"):s.children[n].classList.remove("jrating-over")}),s.addEventListener("mouseout",function(e){for(var t=0;t<r.options.number;t++)s.children[t].classList.remove("jrating-over")}),s.change=r.setValue,s.val=function(e){if(void 0===e)return r.getValue();r.setValue(e)},s.rating=r},search:ce,slider:function(o,e){var i={options:{},currentImage:null};if(e&&(i.options=e),o.setAttribute("tabindex","900"),i.options.items=[],!o.classList.contains("jslider")){o.classList.add("jslider"),o.classList.add("unselectable"),i.options.height&&(o.style.minHeight=parseInt(i.options.height)+"px"),i.options.width&&(o.style.width=parseInt(i.options.width)+"px"),i.options.grid&&(o.classList.add("jslider-grid"),4<(e=o.children.length)&&o.setAttribute("data-total",e-4),o.setAttribute("data-number",4<e?4:e));var a=document.createElement("div");if(a.classList.add("jslider-counter"),0<o.children.length)for(var t=0;t<o.children.length;t++){i.options.items.push(o.children[t]);var n=document.createElement("div");n.onclick=function(){var e=Array.prototype.slice.call(a.children).indexOf(this);i.show(i.currentImage=i.options.items[e])},a.appendChild(n)}var e=document.createElement("div"),s=(e.className="jslider-caption",document.createElement("div")),r=document.createElement("div");r.className="jslider-close",r.innerHTML="",r.onclick=function(){i.close()},s.appendChild(e),s.appendChild(r)}function l(e){var t;"IMG"==e.target.tagName?i.show(e.target):e.target.classList.contains("jslider-close")||e.target.parentNode.classList.contains("jslider-counter")||e.target.classList.contains("jslider-counter")||(t=e.offsetX||e.changedTouches[0].clientX,e.target.clientWidth-t<40?i.next():t<40&&i.prev())}return i.updateCounter=function(e){for(var t=0;t<a.children.length;t++)if(a.children[t].classList.contains("jslider-counter-focus")){a.children[t].classList.remove("jslider-counter-focus");break}a.children[e].classList.add("jslider-counter-focus")},i.show=function(e){e=e||o.children[0],o.classList.add("jslider-focus"),o.classList.remove("jslider-grid"),o.appendChild(s),o.appendChild(a);var t=i.options.items.indexOf(e);i.updateCounter(t);for(var n=0;n<o.children.length;n++)o.children[n].style.display="";e.style.display="block",e.previousElementSibling?o.classList.add("jslider-left"):o.classList.remove("jslider-left"),e.nextElementSibling&&"IMG"==e.nextElementSibling.tagName?o.classList.add("jslider-right"):o.classList.remove("jslider-right"),i.currentImage=e,i.currentImage.offsetHeight>i.currentImage.offsetWidth&&i.currentImage.classList.add("jslider-vertical"),s.children[0].innerText=i.currentImage.getAttribute("title")},i.open=function(){i.show(),"function"==typeof i.options.onopen&&i.options.onopen(o)},i.close=function(){o.classList.remove("jslider-focus"),o.classList.remove("jslider-left"),o.classList.remove("jslider-right"),i.options.grid&&o.classList.add("jslider-grid");for(var e=0;e<o.children.length;e++)o.children[e].style.display="";a.remove(),s.remove(),i.currentImage=null,"function"==typeof i.options.onclose&&i.options.onclose(o)},i.reset=function(){o.innerHTML=""},i.next=function(){var e=i.currentImage.nextElementSibling;e&&"IMG"===e.tagName&&i.show(i.currentImage.nextElementSibling)},i.prev=function(){i.currentImage.previousElementSibling&&i.show(i.currentImage.previousElementSibling)},"ontouchend"in document.documentElement==!0?o.addEventListener("touchend",l):o.addEventListener("mouseup",l),o.addEventListener("swipeleft",function(e){i.next(),e.preventDefault(),e.stopPropagation()}),o.addEventListener("swiperight",function(e){i.prev(),e.preventDefault(),e.stopPropagation()}),o.addEventListener("keydown",function(e){27==e.which&&i.close()}),o.slider=i},tabs:$,tags:function(r,e){if(r.tags)return r.tags.setOptions(e,!0);function l(){return!!(d.options.limit&&r.children.length>=d.options.limit)}var d={type:"tags",options:{}},c=null,i=null,u=(d.setOptions=function(e,t){var n,o={value:"",limit:null,search:null,placeholder:null,validation:null,onbeforepaste:null,onbeforechange:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null};for(n in o)e&&e.hasOwnProperty(n)?d.options[n]=e[n]:void 0!==d.options[n]&&!0!==t||(d.options[n]=o[n]);return d.options.placeholder?r.setAttribute("data-placeholder",d.options.placeholder):r.removeAttribute("data-placeholder"),r.placeholder=d.options.placeholder,d.setValue(d.options.value),a(),d.options.search?i||(i=document.createElement("div"),r.parentNode.insertBefore(i,r.nextSibling),c=ce(i,{data:d.options.search,onselect:function(e,t,n){d.selectIndex(t,n)}})):i&&(c=null,i.remove(),i=null),d},d.add=function(e,t){if("function"==typeof d.options.onbeforechange){var n=d.options.onbeforechange(r,d,d.options.value,e);if(!1===n)return!1;null!=n&&(e=n)}if(c&&c.close(),l())"function"==typeof d.options.onlimit?d.options.onlimit(d,d.options.limit):alert(M.translate("You reach the limit number of entries")+" "+d.options.limit);else{n=H.getNode();if(!(n&&n.parentNode&&n.parentNode.classList.contains("jtags")&&n.nextSibling)||n.nextSibling.innerText&&n.nextSibling.innerText.trim()){if(!r.lastChild||r.lastChild.innerText.trim()||r.removeChild(r.lastChild),e&&"string"!=typeof e)for(var o,i,a=0;a<=e.length;a++)l()||(i=e[a]&&"string"!=typeof e[a]?(o=e[a].text,e[a].value):(o=e[a]||"",null),s=p(o,i));else var s=p(e,e,n);h()}else s=n.nextSibling;t&&u(s)}},d.setLimit=function(e){d.options.limit=e;for(r.children.length;r.children.length>e;)r.removeChild(r.lastChild)},d.remove=function(e){e.parentNode.removeChild(e),r.children.length?h():d.add("",!0)},d.getData=function(){for(var e=[],t=0;t<r.children.length;t++){var n=r.children[t].innerText.replace("\n",""),o=(o=r.children[t].getAttribute("data-value"))||n;(n||o)&&e.push({text:n,value:o})}return e},d.getValue=function(e){var t=null;if(null!=e)t=(t=r.children[e].getAttribute("data-value"))||r.children[e].innerText.replace("\n","");else{for(var n=[],o=0;o<r.children.length;o++)(t=r.children[o].innerText.replace("\n",""))&&n.push(d.getValue(o));t=n.join(",")}return t},d.setValue=function(e){e?r.value!=e&&(Array.isArray(e)?d.add(e):(e=(""+e).trim(),e=o(e),r.innerHTML="",d.add(e))):d.reset()},d.reset=function(){r.classList.add("jtags-empty"),r.innerHTML="<div></div>",h()},d.isValid=function(){for(var e=0,t=0;t<r.children.length;t++)r.children[t].classList.contains("jtags_error")&&e++;return 0==e},d.selectIndex=function(e,t){var n=H.getNode();n&&(n.innerText=e,t&&n.setAttribute("data-value",t),n.classList.remove("jtags_error"),l()||d.add("",!0))},d.search=function(e){e.innerText},d.destroy=function(){r.removeEventListener("mouseup",g),r.removeEventListener("keydown",s),r.removeEventListener("keyup",f),r.removeEventListener("paste",m),r.removeEventListener("focus",v),r.removeEventListener("blur",y),r.parentNode.removeChild(r)},function(e){var t,n;r.children.length&&(t=document.createRange(),n=window.getSelection(),e=e||r.childNodes[r.childNodes.length-1],t.setStart(e,e.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t),r.scrollLeft=r.scrollWidth)}),p=function(e,t,n){var o=document.createElement("div");return o.innerHTML=e||"",t&&o.setAttribute("data-value",t),n&&n.parentNode.classList.contains("jtags")?r.insertBefore(o,n.nextSibling):r.appendChild(o),o},h=function(){var e=d.getValue();e!=d.options.value&&(d.options.value=e,"function"==typeof d.options.onchange&&d.options.onchange(r,d,d.options.value),r.value!=d.options.value&&(r.value=d.options.value,"function"==typeof r.oninput&&r.oninput({type:"input",target:r,value:r.value}))),a()},a=function(){for(var e=0;e<r.children.length;e++)"DIV"===r.children[e].tagName&&(d.getValue(e)?(r.children[e].classList.add("jtags_label"),"function"!=typeof d.options.validation||!d.getValue(e)||d.options.validation(r.children[e],r.children[e].innerText,r.children[e].getAttribute("data-value"))?r.children[e].classList.remove("jtags_error"):r.children[e].classList.add("jtags_error")):r.children[e].classList.remove("jtags_label"));t()},t=function(){r.innerText.trim()?r.classList.remove("jtags-empty"):r.children.length&&"BR"!==r.children[0].tagName||(r.innerHTML="",u(p()))},o=function(e){var t=[],n="";if(e=e.trim()){for(var o=0;o<e.length;o++)","==e[o]||";"==e[o]||"\n"==e[o]?n&&(t.push(n.trim()),n=""):n+=e[o];n&&t.push(n)}return t},n=0,s=function(e){n=window.getSelection().anchorOffset,t(),"Tab"===e.key||";"===e.key||","===e.key?(1<window.getSelection().anchorOffset&&(l()?"function"==typeof d.options.onlimit&&d.options.onlimit(d,d.options.limit):d.add("",!0)),e.preventDefault()):"Enter"==e.key?c&&c.isOpened()||(1<window.getSelection().anchorOffset&&(l()||d.add("",!0)),e.preventDefault()):"Backspace"==e.key&&1==r.children.length&&window.getSelection().anchorOffset<1&&e.preventDefault(),c&&c.keydown(e),t()},f=function(e){var t;39==e.which?1<(t=window.getSelection().anchorOffset)&&t==n&&d.add("",!0):13==e.which||38==e.which||40==e.which?e.preventDefault():c&&c.keyup(e),a()},m=function(e){e.clipboardData||e.originalEvent.clipboardData?t=(e.originalEvent||e).clipboardData.getData("text/plain"):window.clipboardData&&(t=window.clipboardData.getData("Text"));var t=o(t);if("function"==typeof d.options.onbeforepaste){var n=d.options.onbeforepaste(r,d,t);if(!1===n)return e.preventDefault(),!1;n&&(t=n)}1<t.length?(d.add(t,!0),e.preventDefault()):t[0]&&(document.execCommand("insertText",!1,t[0]),e.preventDefault())},g=function(e){var t;e.target.parentNode&&e.target.parentNode.classList.contains("jtags")&&(e.target.classList.contains("jtags_label")||e.target.classList.contains("jtags_error"))&&(t=e.target.getBoundingClientRect()).width-(e.clientX-t.left)<16&&d.remove(e.target),e.target==r&&u()},v=function(){r.classList.contains("jtags-focus")||(r.children.length&&!d.getValue(r.children.length-1)||l()||p(""),"function"==typeof d.options.onfocus&&d.options.onfocus(r,d,d.getValue()),r.classList.add("jtags-focus"))},y=function(){if(r.classList.contains("jtags-focus")){c&&c.close();for(var e=0;e<r.children.length-1;e++)d.getValue(e)||r.removeChild(r.children[e]);h(),r.classList.remove("jtags-focus"),"function"==typeof d.options.onblur&&d.options.onblur(r,d,d.getValue())}};return"touchend"in document.documentElement==!0?r.addEventListener("touchend",g):r.addEventListener("mouseup",g),r.addEventListener("keydown",s),r.addEventListener("keyup",f),r.addEventListener("paste",m),r.addEventListener("focus",v),r.addEventListener("blur",y),r.setAttribute("contenteditable",!0),r.classList.add("jtags"),d.setOptions(e),"function"==typeof d.options.onload&&d.options.onload(r,d),r.change=d.setValue,r.val=function(e){if(void 0===e)return d.getValue();d.setValue(e)},r.tags=d},toolbar:ne,upload:ue,validations:Y},fe=(F.image=ue,F.image.create=function(e){var t=document.createElement("img");return t.setAttribute("src",e.file),t.className="jfile",t.setAttribute("tabindex",-1),t.content=e,t},F.tracker=ae,F.loading=N.loading,F.sha512=he(),"undefined"==typeof document||D.state||pe(),F)}(),me.default});